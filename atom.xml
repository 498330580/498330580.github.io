<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.yaoling.cc</id>
    <title>ç‘¶ç²ä¹‹å®¶</title>
    <updated>2025-04-08T01:58:06.791Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.yaoling.cc"/>
    <link rel="self" href="https://blog.yaoling.cc/atom.xml"/>
    <subtitle>ä¸€ä¸ªä¸ªäººè®°å½•ç½‘ç«™</subtitle>
    <logo>https://blog.yaoling.cc/images/avatar.png</logo>
    <icon>https://blog.yaoling.cc/favicon.ico</icon>
    <rights>All rights reserved 2025, ç‘¶ç²ä¹‹å®¶</rights>
    <entry>
        <title type="html"><![CDATA[ç»„ç½‘æœåŠ¡Netbird]]></title>
        <id>https://blog.yaoling.cc/post/Q8Q-R--lTb/</id>
        <link href="https://blog.yaoling.cc/post/Q8Q-R--lTb/">
        </link>
        <updated>2025-04-08T01:57:23.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<p>NetBird æ˜¯ä¸€ä¸ªå¼€æºçš„ Zero Trust ç½‘ç»œå¹³å°ï¼Œå…è®¸æ‚¨ä¸ºæ‚¨çš„ ç»„ç»‡æˆ–å®¶åº­ã€‚æˆ‘ä»¬å°† NetBird è®¾è®¡ä¸ºç®€å•å¿«é€Ÿï¼Œå‡ ä¹ä¸éœ€è¦ä»»ä½•é…ç½®å·¥ä½œï¼Œå¹¶ä¸”åªéœ€ åœ¨æ‰“å¼€ç«¯å£çš„éº»çƒ¦ã€å¤æ‚çš„é˜²ç«å¢™è§„åˆ™ã€VPN ç½‘å…³ç­‰çš„èƒŒåã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<p>NetBird æ˜¯ä¸€ä¸ªå¼€æºçš„ Zero Trust ç½‘ç»œå¹³å°ï¼Œå…è®¸æ‚¨ä¸ºæ‚¨çš„ ç»„ç»‡æˆ–å®¶åº­ã€‚æˆ‘ä»¬å°† NetBird è®¾è®¡ä¸ºç®€å•å¿«é€Ÿï¼Œå‡ ä¹ä¸éœ€è¦ä»»ä½•é…ç½®å·¥ä½œï¼Œå¹¶ä¸”åªéœ€ åœ¨æ‰“å¼€ç«¯å£çš„éº»çƒ¦ã€å¤æ‚çš„é˜²ç«å¢™è§„åˆ™ã€VPN ç½‘å…³ç­‰çš„èƒŒåã€‚</p>
<!-- more -->
<blockquote>
<p>NetBird æ˜¯ä¸€ä¸ª**<a href="https://github.com/netbirdio/netbird">å¼€æº</a>**é¡¹ç›®ï¼Œå¯ä»¥è‡ªæ‰˜ç®¡ã€‚Â <a href="https://docs.netbird.io/selfhosted/self-hosted-vs-cloud-netbird">åœ¨æ­¤å¤„</a>æŸ¥çœ‹è‡ªæ‰˜ç®¡ç‰ˆæœ¬å’Œäº‘æ‰˜ç®¡ç‰ˆæœ¬ä¹‹é—´çš„æ¯”è¾ƒã€‚</p>
</blockquote>
<p>NetBird æ²¡æœ‰é›†ä¸­å¼ VPN æœåŠ¡å™¨ - æ‚¨çš„è®¡ç®—æœºã€è®¾å¤‡ã€æœºå™¨å’ŒæœåŠ¡å™¨ç›´æ¥é€šè¿‡å¿«é€ŸåŠ å¯†éš§é“ç›¸äº’è¿æ¥ã€‚ å®ƒåˆ›å»ºäº†ä¸€ä¸ªé«˜æ€§èƒ½çš„ç‚¹å¯¹ç‚¹Â <a href="https://www.wireguard.com/">WireGuardÂ®</a>Â è¦†ç›–ç½‘ç»œï¼Œåªéœ€å•å‡»å‡ ä¸‹å³å¯è¿æ¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œçš„è®¡ç®—æœºã€‚<br>
ä½¿ç”¨ NetBird éƒ¨ç½²å®‰å…¨çš„ç‚¹å¯¹ç‚¹ VPN å®é™…ä¸Šåªéœ€ä¸åˆ° 5 åˆ†é’Ÿã€‚</p>
<p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://netbird.io/">NetBird - Open-Source Zero Trust Networking</a>  æ–‡æ¡£ï¼š<a href="https://docs.netbird.io/">Introduction to NetBird - NetBird Docs</a></p>
<h1 id="å®‰è£…å‰å‡†å¤‡">å®‰è£…å‰å‡†å¤‡</h1>
<h2 id="ä¸€-ç¯å¢ƒé…ç½®">ä¸€ã€ç¯å¢ƒé…ç½®</h2>
<p>æˆ‘ä»¬æ¨èæŒ‰ç…§ Docker å®˜æ–¹æ–‡æ¡£å®‰è£… Docker å’Œ Docker Composeï¼Œå› ä¸ºéƒ¨åˆ† Linux å‘è¡Œç‰ˆè½¯ä»¶ä»“åº“ä¸­çš„ Docker ç‰ˆæœ¬å¯èƒ½è¿‡æ—§ã€‚</p>
<p><a href="https://docs.docker.com/install/">Docker å®‰è£…æ–‡æ¡£</a><br>
<a href="https://docs.docker.com/compose/install/">Docker Compose å®‰è£…æ–‡æ¡£</a></p>
<h2 id="äºŒ-è¦æ±‚">äºŒã€è¦æ±‚</h2>
<p><strong>åŸºç¡€è®¾æ–½è¦æ±‚ï¼š</strong></p>
<ul>
<li>è‡³å°‘å…·æœ‰Â <strong>1 ä¸ª CPU</strong>Â å’ŒÂ <strong>2 GB</strong>Â å†…å­˜çš„ Linux VMã€‚</li>
<li>VM åº”åœ¨ TCP ç«¯å£Â <strong>80</strong>ã€<strong>443</strong>ã€<strong>33073</strong>ã€<strong>10000</strong>Â å’ŒÂ <strong>33080</strong>Â ä¸Šå…¬å¼€è®¿é—®;å’Œ UDP ç«¯å£ï¼š<strong>3478</strong>ã€<strong>49152-65535</strong>ã€‚</li>
<li>æŒ‡å‘ VM çš„<strong>å…¬å…±åŸŸå</strong>ã€‚</li>
</ul>
<p><strong>è½¯ä»¶è¦æ±‚ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ docker compose æ’ä»¶ï¼ˆ<a href="https://docs.docker.com/engine/install/">Docker å®‰è£…æŒ‡å—</a>ï¼‰å®‰è£…åœ¨ VM ä¸Šçš„ Dockerï¼Œæˆ–ä½¿ç”¨ç‰ˆæœ¬ 2 æˆ–æ›´é«˜ç‰ˆæœ¬çš„ docker-compose å®‰è£…åœ¨ VM ä¸Šçš„ Dockerã€‚</li>
<li><a href="https://jqlang.github.io/jq/">JQ</a>Â å·²å®‰è£…ã€‚åœ¨å¤§å¤šæ•°å‘è¡Œç‰ˆä¸­ é€šå¸¸ä½äºå®˜æ–¹ä»“åº“ä¸­ï¼Œæ ¹æ®ç³»ç»Ÿæ‰§è¡Œ<code>sudo apt install jq</code>æˆ–<code>sudo yum install jq</code>å®‰è£…</li>
<li><a href="https://curl.se/">curl</a>Â å·²å®‰è£…ã€‚ é€šå¸¸ä½äºå®˜æ–¹ä»“åº“ä¸­ï¼Œæ ¹æ®ç³»ç»Ÿæ‰§è¡Œ<code>sudo apt install curl</code>æˆ–<code>sudo yum install curl</code>å®‰è£…</li>
</ul>
<h2 id="ä¸‰-åˆ›å»ºå®‰è£…ç›®å½•">ä¸‰ã€åˆ›å»ºå®‰è£…ç›®å½•</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="language-shell">cd ~
mkdir netbird &amp;&amp; cd netbird
</code></pre>
<h1 id="å¿«é€Ÿå®‰è£…">å¿«é€Ÿå®‰è£…</h1>
<blockquote>
<p>é€‚ç”¨äºæœ¬æœºæ²¡æœ‰å ç”¨80ã€443ç«¯å£çš„æœåŠ¡å™¨ï¼Œå¦‚æœè‡ªå·±é…ç½®æœ‰åå‘ä»£ç†æœåŠ¡ï¼Œè¯·ä½¿ç”¨è‡ªå®šä¹‰å®‰è£…æœåŠ¡</p>
</blockquote>
<h2 id="ä¸€-ä¸‹è½½å¹¶è¿è¡Œè„šæœ¬">ä¸€ã€ä¸‹è½½å¹¶è¿è¡Œè„šæœ¬</h2>
<p>ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬ï¼Œåªéœ€ä¸€è¡Œï¼š</p>
<pre><code class="language-bash">export NETBIRD_DOMAIN=netbird.example.com; curl -fsSL https://github.com/netbirdio/netbird/releases/latest/download/getting-started-with-zitadel.sh | bash
</code></pre>
<p>å¦‚æœæ‚¨æƒ³åœ¨è¿è¡Œè„šæœ¬ä¹‹å‰æ£€æŸ¥è„šæœ¬ï¼Œæ‚¨å¯ä»¥ä¸‹è½½å®ƒå¹¶åœ¨æœ¬åœ°è¿è¡Œå®ƒï¼š</p>
<pre><code class="language-bash">curl -sSLO https://github.com/netbirdio/netbird/releases/latest/download/getting-started-with-zitadel.sh
# check the script
cat getting-started-with-zitadel.sh
# run the script
export NETBIRD_DOMAIN=netbird.example.com
bash getting-started-with-zitadel.sh
</code></pre>
<p>æ›¿æ¢ä¸ºæ‚¨çš„åŸŸåã€‚<code>netbird.example.com</code></p>
<p>è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç»ˆç«¯ä¸­æ˜¾ç¤ºçš„å‡­æ®é€šè¿‡ URL è®¿é—®æ‚¨çš„ netbird å®ä¾‹ã€‚<code>https://netbird.example.com</code></p>
<h2 id="äºŒ-æ·»åŠ ç”¨æˆ·">äºŒã€æ·»åŠ ç”¨æˆ·</h2>
<p>å¦‚æœè¦æ·»åŠ å…¶ä»–ç”¨æˆ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‡­æ®é€šè¿‡ URL è®¿é—® Zitadel çš„ç®¡ç†æ§åˆ¶å°ã€‚æŒ‰ç…§ Zitadel çš„<a href="https://zitadel.com/docs/guides/manage/console/users">ç”¨æˆ·æŒ‡å—</a>æ·»åŠ å…¶ä»–æœ¬åœ°ç”¨æˆ·ï¼Œæˆ–æŒ‰ç…§<a href="https://zitadel.com/docs/guides/integrate/identity-providers">æŒ‡å—é…ç½®èº«ä»½æä¾›å•†</a>å°† Zitadel ä¸æ‚¨ç°æœ‰çš„èº«ä»½æä¾›å•†é›†æˆã€‚<code>https://netbird.example.com/ui/console</code></p>
<h2 id="ä¸‰-å¤‡ä»½">ä¸‰ã€å¤‡ä»½</h2>
<p>è¦å¤‡ä»½ NetBird å®‰è£…ï¼Œæ‚¨éœ€è¦å¤åˆ¶é…ç½®æ–‡ä»¶ã€ç®¡ç†æœåŠ¡æ•°æ®åº“å’Œ Zitadel çš„æ•°æ®åº“ã€‚<br>
é…ç½®æ–‡ä»¶ä½äºè¿è¡Œå®‰è£…è„šæœ¬çš„æ–‡ä»¶å¤¹ä¸­ã€‚è¦å¤‡ä»½ï¼Œè¯·å°†æ–‡ä»¶å¤åˆ¶åˆ°å¤‡ä»½ä½ç½®ï¼š</p>
<pre><code class="language-bash">mkdir backup
cp docker-compose.yml Caddyfile zitadel.env dashboard.env turnserver.conf management.json relay.env zdb.env backup/
</code></pre>
<p>è¦ä¿å­˜ç®¡ç†æœåŠ¡æ•°æ®åº“ï¼Œæ‚¨éœ€è¦åœæ­¢ç®¡ç†æœåŠ¡å¹¶ä½¿ç”¨ docker compose å‘½ä»¤ä»å­˜å‚¨ç›®å½•ä¸­å¤åˆ¶æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-bash">docker compose stop management
docker compose cp -a management:/var/lib/netbird/ backup/
docker compose start management
</code></pre>
<p>æ‚¨å¯ä»¥æŒ‰ç…§Â <a href="https://www.cockroachlabs.com/docs/stable/backup">Cockroach å¤‡ä»½æŒ‡å—</a>å¤‡ä»½ Zitadel çš„æ•°æ®åº“ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<h2 id="å››-å‡çº§">å››ã€å‡çº§</h2>
<p>ä½¿ç”¨ç‰ˆæœ¬ &lt;Â <a href="https://github.com/netbirdio/netbird/releases/tag/v0.15.3">v0.15.3</a>Â çš„ç”¨æˆ·åº”é¦–å…ˆå°†ä»–ä»¬çš„ç³»ç»Ÿå‡çº§åˆ°Â <a href="https://github.com/netbirdio/netbird/releases/tag/v0.25.9">v0.25.9</a>ã€‚ è¿è¡Œ Management ä»¥å°†è§„åˆ™æ­£ç¡®è¿ç§»åˆ°ç­–ç•¥ï¼Œç„¶åå‡çº§åˆ°Â <strong>0.26.0+</strong>ã€‚<br>
è¦å°† NetBird å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦æŸ¥çœ‹<a href="https://github.com/netbirdio/netbird/releases">å‘è¡Œè¯´æ˜</a>ä»¥äº†è§£ä»»ä½•é‡å¤§æ›´æ”¹ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹å‡çº§æ­¥éª¤ä½œï¼š</p>
<ol>
<li>
<p>è¿è¡ŒÂ <a href="https://docs.netbird.io/selfhosted/selfhosted-quickstart#backup">backup</a>Â éƒ¨åˆ†ä¸­æè¿°çš„å¤‡ä»½æ­¥éª¤ã€‚</p>
</li>
<li>
<p>æ‹‰å–æœ€æ–°çš„ NetBird docker é•œåƒï¼š</p>
<pre><code class="language-bash">docker compose pull management dashboard signal relay
</code></pre>
</li>
<li>
<p>ä½¿ç”¨æ–°æ˜ åƒé‡æ–°å¯åŠ¨ NetBird å®¹å™¨ï¼š</p>
<pre><code class="language-bash">docker compose up -d --force-recreate management dashboard signal relay
</code></pre>
</li>
</ol>
<h2 id="äº”-åˆ é™¤">äº”ã€åˆ é™¤</h2>
<p>è¦ä»æœåŠ¡å™¨ä¸­åˆ é™¤ NetBird å®‰è£…å’Œæ‰€æœ‰ç›¸å…³æ•°æ®ï¼Œè¯·ä»å®‰è£… NetBird çš„æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="language-bash"># remove all NetBird-related containers and volumes (data)
docker compose down --volumes
# remove downloaded and generated config files
rm -f docker-compose.yml Caddyfile zitadel.env dashboard.env machinekey/zitadel-admin-sa.token turnserver.conf management.json
</code></pre>
<h1 id="è‡ªå®šä¹‰å®‰è£…">è‡ªå®šä¹‰å®‰è£…</h1>
<h2 id="ä¸€-éƒ¨ç½²authentik-idp">ä¸€ã€éƒ¨ç½²Authentik IDP</h2>
<blockquote>
<p>NetBird æ”¯æŒé€šç”¨ OpenID ï¼ˆOIDCï¼‰ åè®®ï¼Œå…è®¸ä¸éµå¾ªè§„èŒƒçš„ä»»ä½• IDP é›†æˆã€‚<br>
NetBird çš„ç®¡ç†æœåŠ¡ä¸ä¸€äº›æœ€æµè¡Œçš„ IDP API é›†æˆï¼Œå…è®¸è¯¥æœåŠ¡ç¼“å­˜å’Œæ˜¾ç¤ºç”¨æˆ·åå’Œç”µå­é‚®ä»¶åœ°å€ï¼Œè€Œæ— éœ€å­˜å‚¨æ•æ„Ÿæ•°æ®ã€‚</p>
</blockquote>
<h3 id="1-æ–°å»ºç›®å½•å¹¶ä¸‹è½½å®˜æ–¹çš„docker-compose">1. æ–°å»ºç›®å½•ï¼Œå¹¶ä¸‹è½½å®˜æ–¹çš„docker-compose</h3>
<pre><code class="language-shell">cd ~ &amp;&amp; mkdir authentik &amp;&amp; cd authentik &amp;&amp; wget https://goauthentik.io/docker-compose.yml
</code></pre>
<h3 id="2-å®‰è£…ä¸€ä¸ªç”Ÿæˆéšæœºå¯†ç çš„å°å·¥å…·">2. å®‰è£…ä¸€ä¸ªç”Ÿæˆéšæœºå¯†ç çš„å°å·¥å…·</h3>
<pre><code class="language-shell">apt -y install pwgen
</code></pre>
<h3 id="3-ç”Ÿæˆå¯†ç å’Œå¯†åŒ™åˆ°envæ–‡ä»¶">3. ç”Ÿæˆå¯†ç å’Œå¯†åŒ™åˆ°.envæ–‡ä»¶</h3>
<pre><code class="language-shell">echo &quot;PG_PASS=$(pwgen -s 40 1)&quot; &gt;&gt; .env
echo &quot;AUTHENTIK_SECRET_KEY=$(pwgen -s 50 1)&quot; &gt;&gt; .env
</code></pre>
<h3 id="4-å¯åŠ¨æœåŠ¡">4. å¯åŠ¨æœåŠ¡</h3>
<pre><code class="language-shell">docker compose up -d
</code></pre>
<h3 id="5-åå‘ä»£ç†æœåŠ¡">5. åå‘ä»£ç†æœåŠ¡</h3>
<h4 id="1-å…ˆåœ¨åŸŸåæœåŠ¡å•†é…ç½®ä½ è¦ä»£ç†çš„åŸŸådnsåˆ°ä½ çš„æœåŠ¡å™¨">(1) å…ˆåœ¨åŸŸåæœåŠ¡å•†é…ç½®ä½ è¦ä»£ç†çš„åŸŸåDNSåˆ°ä½ çš„æœåŠ¡å™¨</h4>
<h4 id="2-é…ç½®åå‘ä»£ç†æœåŠ¡">(2) é…ç½®åå‘ä»£ç†æœåŠ¡</h4>
<blockquote>
<p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯NPMï¼ŒNPMçš„å®‰è£…å‚è€ƒæˆ‘å¦ä¸€ç¯‡æ•™ç¨‹ <a href="Nginx%20Proxy%20Manager%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85.md">Nginx Proxy Manageråå‘ä»£ç†å·¥å…·å®‰è£…</a></p>
</blockquote>
<p><strong>ç”±äºå®˜æ–¹çš„docker-composeæ˜¯å¯¹å¤–æœåŠ¡çš„ç«¯å£æ˜¯<code>9000(http)</code>å’Œ<code>9443(https)</code>æˆ‘ä»¬åœ¨ä»£ç†çš„æ—¶å€™å°±æ˜¯ä»£ç†è¿™ä¸¤ä¸ªç«¯å£ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ç»™æœåŠ¡é…ç½®sslè¯ä¹¦ï¼Œé‚£å°±æ˜¯ç›´æ¥å¸¦äº†<code>9000</code>ç«¯å£</strong></p>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561740339-PixPin_2025-04-02_10-38-15.png" alt="PixPin_2025-04-02_10-38-15.png" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561745757-PixPin_2025-04-02_10-39-11.png" alt="PixPin_2025-04-02_10-39-11.png" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561755593-PixPin_2025-04-02_10-40-09.png" alt="PixPin_2025-04-02_10-40-09.png" loading="lazy"></figure>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561759743-PixPin_2025-04-02_10-41-21.png" alt="PixPin_2025-04-02_10-41-21.png" loading="lazy"></figure>
<h4 id="3-é…ç½®authentik-idp">(3) é…ç½®Authentik IDP</h4>
<p><strong>ğŸ‘‰ å…ˆè®¿é—®ï¼šhttps://ä½ çš„åŸŸå/if/flow/initial-setup/ï¼Œé…ç½®é»˜è®¤çš„ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ã€‚</strong></p>
<p><strong>ğŸ‘‰ æŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œé…ç½®ï¼š<a href="https://docs.netbird.io/selfhosted/identity-providers#authentik">èº«ä»½æä¾›å•† - NetBird Docs</a>ï¼Œè¿™é‡Œæˆ‘å°±ä¸é‡å¤è¿™äº›æ­¥éª¤äº†ã€‚åŠ¡å¿…è®°ä¸‹Client IDã€Usernameã€Passwordï¼Œåç»­é…ç½®Netbirdéœ€è¦ç”¨åˆ°ã€‚</strong></p>
<p><strong>â—ï¸ å¦‚æœä½ å®Œå…¨æŒ‰ç…§å®˜æ–¹çš„æ–‡æ¡£é…ç½®ï¼Œé‚£ä¹ˆUsernameå°±æ˜¯ï¼šNetbirdï¼ˆæ³¨æ„å¤§å°å†™ï¼‰</strong><br>
<strong>â—ï¸ Passwordæ˜¯æœåŠ¡è´¦æˆ·çš„å¯†ç ï¼Œä¸æ˜¯Authentikç®¡ç†å‘˜è´¦æˆ·çš„å¯†ç ã€‚</strong></p>
<h5 id="ç¬¬-1-æ­¥åˆ›å»º-oauth2openid-æä¾›è€…">ç¬¬ 1 æ­¥ï¼šåˆ›å»º OAuth2/OpenID æä¾›è€…</h5>
<figure data-type="image" tabindex="5"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563789766-PixPin_2025-04-02_10-57-20.png" alt="PixPin_2025-04-02_10-57-20.png" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563797363-PixPin_2025-04-02_10-58-00.png" alt="PixPin_2025-04-02_10-58-00.png" loading="lazy"></figure>
<figure data-type="image" tabindex="7"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563804869-PixPin_2025-04-02_11-01-13.png" alt="PixPin_2025-04-02_11-01-13.png" loading="lazy"></figure>
<figure data-type="image" tabindex="8"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563815513-PixPin_2025-04-02_11-07-59.png" alt="PixPin_2025-04-02_11-07-59.png" loading="lazy"></figure>
<figure data-type="image" tabindex="9"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563836393-PixPin_2025-04-02_11-14-59.png" alt="PixPin_2025-04-02_11-14-59.png" loading="lazy"></figure>
<figure data-type="image" tabindex="10"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563849014-PixPin_2025-04-02_11-09-01.png" alt="PixPin_2025-04-02_11-09-01.png" loading="lazy"></figure>
<figure data-type="image" tabindex="11"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563855904-PixPin_2025-04-02_11-10-54.png" alt="PixPin_2025-04-02_11-10-54.png" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743563864851-PixPin_2025-04-02_11-11-35.png" alt="PixPin_2025-04-02_11-11-35.png" loading="lazy"></figure>
<h5 id="æ­¥éª¤-2åˆ›å»ºå¤–éƒ¨åº”ç”¨ç¨‹åº">æ­¥éª¤ 2ï¼šåˆ›å»ºå¤–éƒ¨åº”ç”¨ç¨‹åº</h5>
<figure data-type="image" tabindex="13"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743564107426-PixPin_2025-04-02_11-18-55.png" alt="PixPin_2025-04-02_11-18-55.png" loading="lazy"></figure>
<figure data-type="image" tabindex="14"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743564115807-PixPin_2025-04-02_11-21-28.png" alt="PixPin_2025-04-02_11-21-28.png" loading="lazy"></figure>
<h5 id="ç¬¬-3-æ­¥åˆ›å»ºæœåŠ¡å¸æˆ·">ç¬¬ 3 æ­¥ï¼šåˆ›å»ºæœåŠ¡å¸æˆ·</h5>
<figure data-type="image" tabindex="15"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743566985962-PixPin_2025-04-02_11-26-20.png" alt="PixPin_2025-04-02_11-26-20.png" loading="lazy"></figure>
<figure data-type="image" tabindex="16"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743566995127-PixPin_2025-04-02_11-30-22.png" alt="PixPin_2025-04-02_11-30-22.png" loading="lazy"></figure>
<figure data-type="image" tabindex="17"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743567001362-PixPin_2025-04-02_11-39-40.png" alt="PixPin_2025-04-02_11-39-40.png" loading="lazy"></figure>
<h5 id="ç¬¬-4-æ­¥å°†æœåŠ¡è´¦æˆ·æ·»åŠ åˆ°ç®¡ç†å‘˜ç»„">ç¬¬ 4 æ­¥ï¼šå°†æœåŠ¡è´¦æˆ·æ·»åŠ åˆ°ç®¡ç†å‘˜ç»„</h5>
<figure data-type="image" tabindex="18"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743583472333-PixPin_2025-04-02_16-40-41.png" alt="PixPin_2025-04-02_16-40-41.png" loading="lazy"></figure>
<figure data-type="image" tabindex="19"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743583493386-PixPin_2025-04-02_16-41-51.png" alt="PixPin_2025-04-02_16-41-51.png" loading="lazy"></figure>
<figure data-type="image" tabindex="20"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743583506550-PixPin_2025-04-02_16-42-34.png" alt="PixPin_2025-04-02_16-42-34.png" loading="lazy"></figure>
<h5 id="ç¬¬-5-æ­¥åˆ›å»ºç”¨äºè®¾å¤‡ä»¤ç‰Œèº«ä»½éªŒè¯çš„èº«ä»½éªŒè¯æµç¨‹">ç¬¬ 5 æ­¥ï¼šåˆ›å»ºç”¨äºè®¾å¤‡ä»¤ç‰Œèº«ä»½éªŒè¯çš„èº«ä»½éªŒè¯æµç¨‹</h5>
<figure data-type="image" tabindex="21"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743584162245-PixPin_2025-04-02_16-46-37.png" alt="PixPin_2025-04-02_16-46-37.png" loading="lazy"></figure>
<figure data-type="image" tabindex="22"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743584174577-PixPin_2025-04-02_16-50-27.png" alt="PixPin_2025-04-02_16-50-27.png" loading="lazy"></figure>
<p>ç„¶åå›åˆ°èœå•é€‰æ‹©</p>
<figure data-type="image" tabindex="23"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743584235159-PixPin_2025-04-02_16-51-30.png" alt="PixPin_2025-04-02_16-51-30.png" loading="lazy"></figure>
<figure data-type="image" tabindex="24"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743584289982-PixPin_2025-04-02_16-53-02.png" alt="PixPin_2025-04-02_16-53-02.png" loading="lazy"></figure>
<figure data-type="image" tabindex="25"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743584299303-PixPin_2025-04-02_16-54-24.png" alt="PixPin_2025-04-02_16-54-24.png" loading="lazy"></figure>
<p><strong>åŠ¡å¿…åšå¥½ä¸Šè¿°è¿™äº›é…ç½®ï¼Œå¦åˆ™åç»­Netbirdå®¢æˆ·ç«¯å°†æ— æ³•é€šè¿‡URLçš„æ–¹å¼é‰´æƒã€‚</strong></p>
<h2 id="äºŒ-å®‰è£…netbird">äºŒã€å®‰è£…netbird</h2>
<h3 id="1åˆ›å»ºæ‹‰å–è„šæœ¬å¹¶æ‹‰å–æœ€æ–°ä»£ç ">1.åˆ›å»ºæ‹‰å–è„šæœ¬ï¼Œå¹¶æ‹‰å–æœ€æ–°ä»£ç </h3>
<h4 id="ç¬¬ä¸€æ­¥-å…ˆåˆ›å»ºnetbirdç›®å½•">ç¬¬ä¸€æ­¥ã€å…ˆåˆ›å»º<code>netbird</code>ç›®å½•</h4>
<pre><code class="language-shell">cd ~ &amp;&amp; mkdir netbird &amp;&amp; cd netbird
</code></pre>
<h4 id="ç¬¬äºŒæ­¥-æ‰§è¡Œnano-startshç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹">ç¬¬äºŒæ­¥ã€æ‰§è¡Œ<code>nano start.sh</code>ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</h4>
<pre><code class="language-bash">#!/bin/bash
REPO=&quot;https://github.com/netbirdio/netbird/&quot;
# this command will fetch the latest release e.g. v0.8.7
LATEST_TAG=$(basename $(curl -fs -o/dev/null -w %{redirect_url} ${REPO}releases/latest))
echo $LATEST_TAG

# this command will clone the latest tag
git clone --depth 1 --branch $LATEST_TAG $REPO
</code></pre>
<p>æŒ‰<code>Ctrl+X</code>è¾“å…¥<code>y</code>æœ€åå›è½¦ä¿å­˜<code>start.sh</code>æ–‡ä»¶</p>
<p>æ‰§è¡Œ<code>chmod +x start.sh</code>èµ‹äºˆæ–‡ä»¶æ‰§è¡Œæƒé™ï¼Œä¹‹åè¿è¡Œ<code>start.sh</code>è„šæœ¬ä»¥è·å–æœ€æ–°ç‰ˆæœ¬å¹¶å…‹éš†ä»£ç </p>
<h3 id="2-é…ç½®netbird">2. é…ç½®netbird</h3>
<h4 id="æ­¥éª¤1è¿›å…¥é…ç½®ç›®å½•">æ­¥éª¤1ï¼šè¿›å…¥é…ç½®ç›®å½•</h4>
<pre><code class="language-shell">cd netbird/infrastructure_files/
</code></pre>
<h4 id="æ­¥éª¤2å‡†å¤‡é…ç½®æ–‡ä»¶">æ­¥éª¤2ï¼šå‡†å¤‡é…ç½®æ–‡ä»¶</h4>
<pre><code class="language-shell"># å¤åˆ¶é…ç½®æ¨¡æ¿
cp setup.env.example setup.env
# ç¼–è¾‘é…ç½®
nano setup.env
</code></pre>
<p><strong>éœ€è¦ä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="language-env"># è¿™é‡Œå¡«å†™ä½ çš„netbirdåŸŸå
NETBIRD_DOMAIN=&quot;&quot;


# è¿™é‡Œå¡«å†™ä½ çš„authentikè®¤è¯æœåŠ¡çš„åœ°å€ &quot;https://ä½ çš„æœåŠ¡åŸŸå/application/o/netbird/.well-known/openid-configuration&quot;
NETBIRD_AUTH_OIDC_CONFIGURATION_ENDPOINT=&quot;https://ä½ çš„æœåŠ¡åŸŸå/application/o/netbird/.well-known/openid-configuration&quot;

# è¿™é‡Œå¡«å†™ä½ çš„authentikå¾—åˆ°çš„å®¢æˆ·ç«¯ID
NETBIRD_AUTH_AUDIENCE=&quot;&quot;
NETBIRD_AUTH_CLIENT_ID=&quot;&quot;
NETBIRD_AUTH_DEVICE_AUTH_CLIENT_ID=&quot;&quot;
NETBIRD_AUTH_DEVICE_AUTH_AUDIENCE=&quot;&quot;
NETBIRD_IDP_MGMT_CLIENT_ID=&quot;&quot;

# è¿™ä¸€é¡¹è¿™æ ·ä¿®æ”¹
NETBIRD_AUTH_SUPPORTED_SCOPES=&quot;openid profile email offline_access api&quot;

# è¿™é‡Œå¡«å†™authentik
NETBIRD_MGMT_IDP=&quot;authentik&quot;

# ä¿®æ”¹è¿™é‡Œçš„ä¸ºtrue
NETBIRD_DISABLE_LETSENCRYPT=true

# æ·»åŠ å¦‚ä¸‹å†…å®¹
# è¿™ä¸ªç›´æ¥å¡«å†™Netbird
NETBIRD_IDP_MGMT_EXTRA_USERNAME=&quot;Netbird&quot;
# è¿™é‡Œå¡«å†™ä½ ä¹‹å‰é…ç½®Authentikæ—¶å¾—åˆ°çš„æœåŠ¡è´¦æˆ·å¯†ç 
NETBIRD_IDP_MGMT_EXTRA_PASSWORD=&quot;Service Account Password&quot;

# ä¿®æ”¹é»˜è®¤ç«¯å£
NETBIRD_MGMT_API_PORT=8012
NETBIRD_SIGNAL_PORT=10000

</code></pre>
<p><strong>å‚è€ƒçš„æ˜¯å¦‚ä¸‹å›¾è¿™ä¸ª<a href="https://docs.netbird.io/selfhosted/identity-providers#authentik">å®˜æ–¹æ–‡æ¡£</a>ï¼š</strong></p>
<figure data-type="image" tabindex="26"><img src="https://r2-oss.yaoling.cc/image/2025/04/03/piclist-1743678611132-PixPin_2025-04-03_19-07-38.png" alt="PixPin_2025-04-03_19-07-38.png" loading="lazy"></figure>
<p><strong>ä¿®æ”¹å®Œæˆåè®°å¾—<code>ctrl+x</code> ç„¶åè¾“å…¥<code>y</code> æœ€åå›è½¦ä¿å­˜</strong></p>
<h4 id="æ­¥éª¤3å¯é€‰ç¦ç”¨å•è´¦æˆ·æ¨¡å¼">æ­¥éª¤3ï¼ˆå¯é€‰)ï¼šç¦ç”¨å•è´¦æˆ·æ¨¡å¼</h4>
<p><strong>ä¿®æ”¹<code>docker-compose.yml.tmpl</code>æ–‡ä»¶</strong></p>
<pre><code class="language-shell">nano docker-compose.yml.tmpl
</code></pre>
<p><strong>ç„¶ååœ¨<code>management</code>ä¸­æ·»åŠ <code>--disable-single-account-mode</code>è¿™æ¡å¯åŠ¨å‘½ä»¤</strong></p>
<figure data-type="image" tabindex="27"><img src="https://r2-oss.yaoling.cc/image/2025/04/03/piclist-1743679898341-PixPin_2025-04-03_19-29-33.png" alt="PixPin_2025-04-03_19-29-33.png" loading="lazy"></figure>
<p><strong>æœ€åä¿å­˜å¹¶é€€å‡º</strong></p>
<h4 id="æ­¥éª¤4ç”Ÿæˆé…ç½®æ–‡ä»¶">æ­¥éª¤4ï¼šç”Ÿæˆé…ç½®æ–‡ä»¶</h4>
<p><strong>æ‰§è¡Œå®˜æ–¹æä¾›çš„é…ç½®è„šæœ¬æ¥ç”Ÿæˆç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼š</strong></p>
<pre><code class="language-shell">./configure.sh
</code></pre>
<h4 id="æ­¥éª¤5è¿è¡Œdocker-compose">æ­¥éª¤5ï¼šè¿è¡Œdocker compose</h4>
<p><strong>å®Œæˆåè½¬åˆ°artifactsç›®å½•</strong></p>
<pre><code class="language-shell">cd artifacts
</code></pre>
<p><em>é‡Œé¢åº”è¯¥æœ‰è¿™4ä¸ªæ–‡ä»¶ï¼šdocker-compose.ymlã€management.jsonã€openid-configuration.jsonã€turnserver.conf</em></p>
<p><strong>ğŸ‘‰ç”±äºå®˜æ–¹çš„è¿™ä¸ªè„šæœ¬æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ä¸€äº›é…ç½®æ‰èƒ½ä½¿å…¶æ­£å¸¸å·¥ä½œï¼Œé¦–å…ˆç¼–è¾‘management.jsonï¼š</strong></p>
<pre><code class="language-shell">nano management.json
</code></pre>
<p>é»˜è®¤çš„ä¿¡å·æœåŠ¡çš„ç«¯å£ä¸º10000ï¼š</p>
<pre><code class="language-json">&quot;Signal&quot;: {
        &quot;Proto&quot;: &quot;https&quot;,
        &quot;URI&quot;: &quot;nb.example.com:10000&quot;,
        &quot;Username&quot;: &quot;&quot;,
        &quot;Password&quot;: &quot;&quot;
    },
</code></pre>
<p>éœ€è¦å°†å…¶æ”¹ä¸º443ç«¯å£ï¼Œå› ä¸ºæˆ‘ä»¬åç»­ä¼šé…ç½®ä½¿ç”¨Nginxåå‘ä»£ç†ä¿¡å·æœåŠ¡ï¼š</p>
<pre><code class="language-shell">&quot;Signal&quot;: {
        &quot;Proto&quot;: &quot;https&quot;,
        &quot;URI&quot;: &quot;nb.example.com:443&quot;,
        &quot;Username&quot;: &quot;&quot;,
        &quot;Password&quot;: &quot;&quot;
    },
</code></pre>
<p><strong>ğŸ‘‰è¿˜éœ€è¦ä¿®æ”¹composeæ–‡ä»¶ï¼š</strong></p>
<pre><code class="language-shell">nano docker-compose.yml
</code></pre>
<p>å®˜æ–¹çš„è„šæœ¬æ²¡æœ‰å¸®æˆ‘ä»¬å¤„ç†dashboardå®¹å™¨çš„ç«¯å£ï¼Œç”±äºæˆ‘ä»¬åç»­ä¼šé…ç½®ä½¿ç”¨Nginxåå‘ä»£ç†ï¼Œæ‰€ä»¥å°†è¿™é‡Œçš„443ç«¯å£æ³¨é‡Šæ‰ï¼Œå®¹å™¨å¤–çš„80ç«¯å£æ”¹ä¸º8011ï¼š</p>
<pre><code class="language-yaml">services:
  #UI dashboard
  dashboard:
    image: netbirdio/dashboard:latest
    restart: unless-stopped
    ports:
      - 8011:80
#      - 443:443
</code></pre>
<p><strong>ğŸ‘‰å¦å¤–dashboardå®¹å™¨çš„ç¯å¢ƒå˜é‡ä¹Ÿéœ€è¦åšä¿®æ”¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæŠŠEndpointsç›¸å…³çš„ç¯å¢ƒå˜é‡é…ç½®ä¸ºDomain:8012çš„å½¢å¼ï¼š</strong></p>
<pre><code class="language-yaml">services:
  #UI dashboard
  dashboard:
    image: netbirdio/dashboard:latest
    ...
    environment:
      # Endpoints
      - NETBIRD_MGMT_API_ENDPOINT=https://nb.example.com:8012
      - NETBIRD_MGMT_GRPC_API_ENDPOINT=https://nb.example.com:8012
    ...
</code></pre>
<p>éœ€è¦å°†å…¶ä¿®æ”¹ä¸ºï¼š</p>
<pre><code class="language-yaml">services:
  #UI dashboard
  dashboard:
    image: netbirdio/dashboard:latest
    ...
    environment:
      # Endpoints
      - NETBIRD_MGMT_API_ENDPOINT=https://nb.example.com
      - NETBIRD_MGMT_GRPC_API_ENDPOINT=https://nb.example.com
</code></pre>
<p><strong>ğŸ‘‰å¯ç”¨signalå®¹å™¨çš„æ—¥å¿—ï¼Œæ–¹ä¾¿åç»­ç»´æŠ¤å’Œè°ƒè¯•</strong></p>
<pre><code class="language-yaml">...
  signal:
    image: netbirdio/signal:latest
    restart: unless-stopped
...
    command: [ &quot;--log-file&quot;, &quot;console&quot;]
</code></pre>
<p><strong>ğŸ‘‰æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨å®¹å™¨</strong></p>
<pre><code class="language-shell">docker compose up -d
</code></pre>
<h4 id="æ­¥éª¤6é…ç½®nginxåå‘ä»£ç†netbird">æ­¥éª¤6ï¼šé…ç½®Nginxåå‘ä»£ç†Netbird</h4>
<p><strong>å¯åŠ¨NetbirdæˆåŠŸåï¼Œç°åœ¨éœ€è¦åä»£Netbirdçš„8011ã€8012ã€10000ç«¯å£ï¼ŒNginxç«™ç‚¹é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="language-conf">upstream dashboard {
    server 127.0.0.1:8011;
    keepalive 10;
}
upstream signal {
    server 127.0.0.1:10000;
}
upstream management {
    server 127.0.0.1:8012;
}

server {
    listen 80;
    listen [::]:80;
    server_name nb.example.com;

    client_header_timeout 1d;
    client_body_timeout 1d;

    proxy_set_header        X-Real-IP $remote_addr;
    proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header        X-Scheme $scheme;
    proxy_set_header        X-Forwarded-Proto https;
    proxy_set_header        X-Forwarded-Host $host;
    grpc_set_header         X-Forwarded-For $proxy_add_x_forwarded_for;

    # Proxy dashboard
    location / {
        proxy_pass http://dashboard;
    }
    # Proxy Signal
    location /signalexchange.SignalExchange/ {
        grpc_pass grpc://signal;
        #grpc_ssl_verify off;
        grpc_read_timeout 1d;
        grpc_send_timeout 1d;
        grpc_socket_keepalive on;
    }
    # Proxy Management http endpoint
    location /api {
        proxy_pass http://management;
    }
    # Proxy Management grpc endpoint
    location /management.ManagementService/ {
        grpc_pass grpc://management;
        #grpc_ssl_verify off;
        grpc_read_timeout 1d;
        grpc_send_timeout 1d;
        grpc_socket_keepalive on;
    }
}
</code></pre>
<p><strong>æŒ‰ç…§æ–‡ä»¶é…ç½®åå‘ä»£ç†ï¼Œç„¶åNetbirdæœåŠ¡ç«¯å°±å…¨éƒ¨éƒ¨ç½²å®Œæ¯•äº†ã€‚</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Nginx Proxy Manageråå‘ä»£ç†å·¥å…·å®‰è£…]]></title>
        <id>https://blog.yaoling.cc/post/Q7q_1R-Aui/</id>
        <link href="https://blog.yaoling.cc/post/Q7q_1R-Aui/">
        </link>
        <updated>2025-04-07T12:27:05.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<p>Nginx Proxy Managerï¼ˆä»¥ä¸‹ç®€ç§° NPMï¼‰å°±æ˜¯ä¸€ä¸ª Nginx çš„ä»£ç†ç®¡ç†å™¨ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ç®€å•æ–¹ä¾¿ã€‚<br>
å³ä½¿æ˜¯æ²¡æœ‰ Nginx åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¹Ÿèƒ½è½»æ¾åœ°ç”¨å®ƒæ¥å®Œæˆåå‘ä»£ç†çš„æ“ä½œï¼Œä¸éœ€è¦è‡ªå·±å†™å¤æ‚çš„nginxé…ç½®ï¼Œè€Œä¸”å› ä¸ºè‡ªå¸¦é¢æ¿ï¼Œæ“ä½œæå…¶ç®€å•ã€‚<br>
Nginx Proxy Manager åå°è¿˜å¯ä»¥ä¸€é”®ç”³è¯· SSL è¯ä¹¦ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨ç»­æœŸï¼Œæ–¹ä¾¿çœå¿ƒã€‚<br>
å®˜æ–¹ç½‘ç«™ï¼š<a href="https://nginxproxymanager.com/">Nginx Proxy Manager</a>å®˜æ–¹å¿«é€Ÿå®‰è£…ï¼š<a href="https://nginxproxymanager.com/guide/#quick-setup">Guide | Nginx Proxy Manager</a></p>
]]></summary>
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<p>Nginx Proxy Managerï¼ˆä»¥ä¸‹ç®€ç§° NPMï¼‰å°±æ˜¯ä¸€ä¸ª Nginx çš„ä»£ç†ç®¡ç†å™¨ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ç®€å•æ–¹ä¾¿ã€‚<br>
å³ä½¿æ˜¯æ²¡æœ‰ Nginx åŸºç¡€çš„å°ä¼™ä¼´ï¼Œä¹Ÿèƒ½è½»æ¾åœ°ç”¨å®ƒæ¥å®Œæˆåå‘ä»£ç†çš„æ“ä½œï¼Œä¸éœ€è¦è‡ªå·±å†™å¤æ‚çš„nginxé…ç½®ï¼Œè€Œä¸”å› ä¸ºè‡ªå¸¦é¢æ¿ï¼Œæ“ä½œæå…¶ç®€å•ã€‚<br>
Nginx Proxy Manager åå°è¿˜å¯ä»¥ä¸€é”®ç”³è¯· SSL è¯ä¹¦ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨ç»­æœŸï¼Œæ–¹ä¾¿çœå¿ƒã€‚<br>
å®˜æ–¹ç½‘ç«™ï¼š<a href="https://nginxproxymanager.com/">Nginx Proxy Manager</a>å®˜æ–¹å¿«é€Ÿå®‰è£…ï¼š<a href="https://nginxproxymanager.com/guide/#quick-setup">Guide | Nginx Proxy Manager</a></p>
<!-- more -->
<h1 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h1>
<p>æˆ‘ä»¬æ¨èæŒ‰ç…§ Docker å®˜æ–¹æ–‡æ¡£å®‰è£… Docker å’Œ Docker Composeï¼Œå› ä¸ºéƒ¨åˆ† Linux å‘è¡Œç‰ˆè½¯ä»¶ä»“åº“ä¸­çš„ Docker ç‰ˆæœ¬å¯èƒ½è¿‡æ—§ã€‚</p>
<p><a href="https://docs.docker.com/install/">Docker å®‰è£…æ–‡æ¡£</a><br>
<a href="https://docs.docker.com/compose/install/">Docker Compose å®‰è£…æ–‡æ¡£</a></p>
<h1 id="åˆ›å»ºå®¹å™¨">åˆ›å»ºå®¹å™¨</h1>
<h2 id="1-åœ¨ç³»ç»Ÿä»»æ„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ­¤æ–‡æ¡£ä»¥å½“å‰ç›®å½•åˆ›å»ºnpmä¸ºä¾‹">1. åœ¨ç³»ç»Ÿä»»æ„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ­¤æ–‡æ¡£ä»¥å½“å‰ç›®å½•åˆ›å»ºnpmä¸ºä¾‹</h2>
<pre><code class="language-shell">mkdir -p npm &amp;&amp; cd npm
</code></pre>
<p><em>æ³¨æ„ï¼šåç»­æ“ä½œä¸­ï¼Œäº§ç”Ÿçš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¿å­˜åœ¨è¿™ä¸ªç›®å½•ï¼Œè¯·å¦¥å–„ä¿å­˜</em></p>
<h2 id="2-åˆ›å»º-docker-composeyaml">2. åˆ›å»º docker-compose.yaml</h2>
<pre><code class="language-shell">nano docker-compose.yml
</code></pre>
<p>ç²˜è´´å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š</p>
<pre><code class="language-yml">services:
  app:
    image: 'jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '80:80'              # ä¸å»ºè®®ä¿®æ”¹ç«¯å£
      - '81:81'              # å¯ä»¥æŠŠå†’å·å·¦è¾¹çš„ 81 ç«¯å£ä¿®æ”¹æˆä½ æœåŠ¡å™¨ä¸Šæ²¡æœ‰è¢«å ç”¨çš„ç«¯å£
      - '443:443'            # ä¸å»ºè®®ä¿®æ”¹ç«¯å£
    volumes:
      - ./data:/data         # ç‚¹å·è¡¨ç¤ºå½“å‰æ–‡ä»¶å¤¹ï¼Œå†’å·å·¦è¾¹çš„æ„æ€æ˜¯åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª data ç›®å½•ï¼Œç”¨äºå­˜æ”¾æ•°æ®ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
      - ./letsencrypt:/etc/letsencrypt  # ç‚¹å·è¡¨ç¤ºå½“å‰æ–‡ä»¶å¤¹ï¼Œå†’å·å·¦è¾¹çš„æ„æ€æ˜¯åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª letsencrypt ç›®å½•ï¼Œç”¨äºå­˜æ”¾è¯ä¹¦ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
    # network_mode: &quot;host&quot;   # å¦‚æœä»£ç†çš„æœåŠ¡ä¸æ˜¯åŒä¸€ä¸ªç½‘ç»œå»ºè®®å¯ç”¨
</code></pre>
<p>ä¹‹åï¼ŒåŒæ ·è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼ŒæŒ‰ä¸€ä¸‹<code>Ctrl+X</code>ï¼Œç„¶å è¾“å…¥<code>y</code>,æœ€åå›è½¦ç¡®è®¤é€€å‡ºã€‚</p>
<h2 id="3-å¯åŠ¨æœåŠ¡">3. å¯åŠ¨æœåŠ¡</h2>
<p>è¾“å…¥<code>docker compose up -d</code>å›è½¦å¯åŠ¨æœåŠ¡</p>
<h2 id="4-ç™»å½•æœåŠ¡">4. ç™»å½•æœåŠ¡</h2>
<p>ç”¨æµè§ˆå™¨è®¿é—®Â <code>http://ä½ çš„ip:81</code>Â å³å¯<br>
ä¾‹å¦‚:Â <code>http://127.0.0.1:81</code><br>
é»˜è®¤ç™»é™†çš„ç”¨æˆ·åï¼š<code>admin@example.com</code>Â å¯†ç ï¼š<code>changeme</code></p>
<p><em>ç¬¬ä¸€æ¬¡ç™»é™†ä¼šæç¤ºæ›´æ”¹ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºè®®ä¿®æ”¹ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„å¯†ç ã€‚</em></p>
<h1 id="æ›´æ–°å®¹å™¨">æ›´æ–°å®¹å™¨</h1>
<h2 id="1-åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨ç»„">1. åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨ç»„</h2>
<pre><code class="language-bash">cd npm &amp;&amp; docker compose down
</code></pre>
<h3 id="2-å¤‡ä»½æ•°æ®é‡è¦">2. å¤‡ä»½æ•°æ®ï¼ˆé‡è¦ï¼‰</h3>
<pre><code class="language-bash">cp -r ~/npm ~/npm.back
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>npm.back</code> æ–‡ä»¶åä¸ä¸€å®šè¦æ ¹æ®æ­¤æ–‡æ¡£å‘½åï¼Œè¿™é‡Œä»…ä»…æ˜¯ä¸ªç¤ºä¾‹ã€‚</p>
<h3 id="3-æ›´æ–°æœåŠ¡">3. æ›´æ–°æœåŠ¡</h3>
<p>æ‹‰å–æœ€æ–°é•œåƒ</p>
<pre><code class="language-shell">docker compose pull
</code></pre>
<p>é‡æ–°å¯åŠ¨å®¹å™¨</p>
<pre><code class="language-shell">docker compose up -d
</code></pre>
<h1 id="é…ç½®npm">é…ç½®NPM</h1>
<p>é¦–å…ˆæˆ‘ä»¬ç™»é™†ç½‘é¡µç«¯ä¹‹åï¼Œä¼šå¼¹å‡ºä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç çš„å¯¹è¯æ¡†ï¼Œæˆ‘ä»¬æ ¹æ®è‡ªå·±çš„å®é™…æ¥ä¿®æ”¹è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743601430512-PixPin_2025-04-02_18-46-08.png" alt="PixPin_2025-04-02_18-46-08.png" loading="lazy"></figure>
<p>ä¿å­˜ä¹‹åï¼Œä¼šè®©æˆ‘ä»¬ä¿®æ”¹å¯†ç ï¼ˆå»ºè®®ç”¨ä¸€ä¸ªå¤æ‚çš„å¯†ç ï¼‰ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743601449829-PixPin_2025-04-02_18-46-22.png" alt="PixPin_2025-04-02_18-46-22.png" loading="lazy"></figure>
<p>æ¥ç€æˆ‘ä»¬å°±å¯ä»¥æ·»åŠ ä¸€ä¸ªåå‘ä»£ç†äº†ã€‚</p>
<h1 id="é…ç½®åå‘ä»£ç†">é…ç½®åå‘ä»£ç†</h1>
<blockquote>
<p>é…ç½®å‰è®°å¾—å°†åŸŸåè§£æåˆ°ä½ çš„æœåŠ¡å™¨ä¸Š</p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561740339-PixPin_2025-04-02_10-38-15.png" alt="PixPin_2025-04-02_10-38-15.png" loading="lazy"></figure>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561745757-PixPin_2025-04-02_10-39-11.png" alt="PixPin_2025-04-02_10-39-11.png" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561755593-PixPin_2025-04-02_10-40-09.png" alt="PixPin_2025-04-02_10-40-09.png" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://r2-oss.yaoling.cc/image/2025/04/02/piclist-1743561759743-PixPin_2025-04-02_10-41-21.png" alt="PixPin_2025-04-02_10-41-21.png" loading="lazy"></figure>
<h1 id="æ±‰åŒ–">æ±‰åŒ–</h1>
<p>ç”±äºå®˜æ–¹é•œåƒæ˜¯è‹±æ–‡ï¼Œå¯¹éƒ¨åˆ†äººå‘˜ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ï¼Œåœ¨githubä¸Šæœ‰æ±‰åŒ–ç‰ˆ<br>
<a href="https://github.com/xiaoxinpro/nginx-proxy-manager-zh">xiaoxinpro/nginx-proxy-manager-zh: åŸºäºnginx-proxy-managerç¿»è¯‘çš„ä¸­æ–‡ç‰ˆæœ¬</a><br>
ä»¥åŠå¯¹åº”çš„dockeré•œåƒ<br>
<a href="https://hub.docker.com/r/chishin/nginx-proxy-manager-zh">chishin/nginx-proxy-manager-zh - Docker Image | Docker Hub</a></p>
<p>å½“ä½ ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹çš„docker-composeæ—¶éœ€è¦æ³¨æ„ï¼Œå°†<code>image</code>é•œåƒ<code>jc21/nginx-proxy-manager</code>æ›¿æ¢ä¸º<code>chishin/nginx-proxy-manager-zh</code>å³å¯å®ç°ä¸­æ–‡éƒ¨ç½²</p>
<p>ä¸­æ–‡é•œåƒå¹¶æ²¡æœ‰é‡æ–°æ„å»ºåç«¯ä»£ç ï¼Œç”±<code>Dockerfile-zh</code>æºç å¯ä»¥å¾—çŸ¥ï¼Œä¸­æ–‡ç‰ˆé•œåƒåŸºäºå®˜æ–¹é•œåƒæ›¿æ¢å‰ç«¯ä»£ç æ¥å®ç°çš„ï¼Œæ‰€ä»¥ä¸­æ–‡ç‰ˆæœ¬çš„å…¨éƒ¨åŠŸèƒ½ä¸å®˜æ–¹ç‰ˆæœ¬å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æ˜¾ç¤ºç•Œé¢çš„æ–‡å­—ä¸åŒçš„åŒºåˆ«ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¾¤æ™– NAS å…¨åº”ç”¨ç«¯å£å¯¹åº”åˆ—è¡¨]]></title>
        <id>https://blog.yaoling.cc/post/n6UTEnqSfY/</id>
        <link href="https://blog.yaoling.cc/post/n6UTEnqSfY/">
        </link>
        <updated>2025-03-29T11:30:35.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>ä¸ºäº†æ–¹ä¾¿éšæ—¶éšåœ°è®¿é—®ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦åœ¨ç¾¤æ™– NAS æ¥å…¥çš„è·¯ç”±ä¸Šåšå¥½ç«¯å£æ˜ å°„ã€‚ä¸è¿‡ç¾¤æ™–çš„å¥—ä»¶é‚£ä¹ˆå¤šï¼Œæ¯ä¸ªåº”ç”¨çš„ç«¯å£åˆæ˜¯å¤šå°‘å‘¢ï¼Ÿä»¥ä¸‹æ˜¯ç¾¤æ™– NAS å„åº”ç”¨çš„ç«¯å£å¯¹åº”åˆ—è¡¨ï¼Œæ–¹ä¾¿ä»¥åçš„ä½¿ç”¨ï¼</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>ä¸ºäº†æ–¹ä¾¿éšæ—¶éšåœ°è®¿é—®ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦åœ¨ç¾¤æ™– NAS æ¥å…¥çš„è·¯ç”±ä¸Šåšå¥½ç«¯å£æ˜ å°„ã€‚ä¸è¿‡ç¾¤æ™–çš„å¥—ä»¶é‚£ä¹ˆå¤šï¼Œæ¯ä¸ªåº”ç”¨çš„ç«¯å£åˆæ˜¯å¤šå°‘å‘¢ï¼Ÿä»¥ä¸‹æ˜¯ç¾¤æ™– NAS å„åº”ç”¨çš„ç«¯å£å¯¹åº”åˆ—è¡¨ï¼Œæ–¹ä¾¿ä»¥åçš„ä½¿ç”¨ï¼</p>
</blockquote>
<!-- more -->
<h2 id="setup-utilities">Setup Utilities</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>Synology Assistant</td>
<td>9999, 9998, 9997</td>
<td>UDP</td>
</tr>
</tbody>
</table>
<h2 id="backup">Backup</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>Active Backup for Business</td>
<td>5510 (Synology NAS) Note: Only used for the backup of Hyper-V or physical Windows device. 443 (vCenter Server and ESXi host), 902 (ESXi host); 5985 (HTTP for Hyper-V), 5986 (HTTPS for Hyper-V)</td>
<td>TCP</td>
</tr>
<tr>
<td>Data Replicator, Data Replicator II, Data Replicator III</td>
<td>9999, 9998, 9997, 137, 138, 139, 445</td>
<td>TCP</td>
</tr>
<tr>
<td>DSM 5.2 Data Backup, rsync, Shared Folder Sync, Remote Time Backup</td>
<td>873, 22 (if encrypted over SSH)</td>
<td>TCP</td>
</tr>
<tr>
<td>Hyper Backup (destination)</td>
<td>6281 (multi-version backup), 22 (if encrypted over SSH), 873 (remote data copy)</td>
<td>TCP</td>
</tr>
<tr>
<td>Hyper Backup Vault, DSM 5.2 Archiving Backup</td>
<td>6281</td>
<td>TCP</td>
</tr>
<tr>
<td>LUN Backup</td>
<td>3260 (iSCSI), 873, 22 (if encrypted over SSH)</td>
<td>TCP</td>
</tr>
<tr>
<td>Snapshot Replication</td>
<td>3261 (iSCSI LUN), 5566 (shared folder)</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="download">Download</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>BT</td>
<td>16881 (for DSM 2.0.1 or above); 6890-6999 (for DSM 2.0.1-3.0401 or earlier version)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>eMule</td>
<td>4662 (TCP), 4672 (UDP)</td>
<td>TCP/UDP</td>
</tr>
</tbody>
</table>
<h2 id="web-applications">Web Applications</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>DSM</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>File Station</td>
<td>5000 (HTTP, additional port can be added), 5001 (HTTPS, additional port can be added)</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="mail-server">Mail Server</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>IMAP</td>
<td>143</td>
<td>TCP</td>
</tr>
<tr>
<td>IMAP over SSL/TLS</td>
<td>993</td>
<td>TCP</td>
</tr>
<tr>
<td>POP3</td>
<td>110</td>
<td>TCP</td>
</tr>
<tr>
<td>POP3 over SSL/TLS</td>
<td>995</td>
<td>TCP</td>
</tr>
<tr>
<td>SMTP</td>
<td>25</td>
<td>TCP</td>
</tr>
<tr>
<td>SMTPs</td>
<td>465</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="file-transferring">File Transferring</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>AFP</td>
<td>548</td>
<td>TCP</td>
</tr>
<tr>
<td>CIFS</td>
<td>smbd: 139 (netbios-ssn), 445 (microsoft-ds)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>CIFS</td>
<td>Nmbd: 137, 138</td>
<td>UDP</td>
</tr>
<tr>
<td>FTP, FTP over SSL, FTP over TLS</td>
<td>21 (command), 20 (data connection in Active Mode), 1025-65535 (data connection in Passive Mode) Note: The default range varies according to your Synology product models.</td>
<td>TCP</td>
</tr>
<tr>
<td>iSCSI</td>
<td>3260</td>
<td>TCP</td>
</tr>
<tr>
<td>NFS</td>
<td>111, 892, 2049</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>TFTP</td>
<td>69</td>
<td>UDP</td>
</tr>
<tr>
<td>WebDAV, CalDAV</td>
<td>5005, 5006 (HTTPS)</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="packages">Packages</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>Audio Station</td>
<td>1900 (UDP), 5000 (HTTP, additional port can be added), 5001 (HTTPS, additional port can be added), 5353 (Bonjour service), 6001-6010 (AirPlay control/timing)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Central Management System</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>CIFS Scale-out Cluster</td>
<td>49152-49252</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>CIFS Scale-out Cluster</td>
<td>17909, 17913, 19998, 24007, 24008, 24009-24045, 38465-38501, 4379</td>
<td>TCP</td>
</tr>
<tr>
<td>Cloud Station</td>
<td>6690</td>
<td>TCP</td>
</tr>
<tr>
<td>DHCP Server</td>
<td>67, 68</td>
<td>UDP</td>
</tr>
<tr>
<td>LDAP Server (formerly Directory Server)</td>
<td>389 (LDAP), 636 (LDAP with SSL)</td>
<td>TCP</td>
</tr>
<tr>
<td>Download Station</td>
<td>5000</td>
<td>TCP</td>
</tr>
<tr>
<td>iTunes Server</td>
<td>3689</td>
<td>TCP</td>
</tr>
<tr>
<td>LogitechÂ® Media Server</td>
<td>3483, 9002</td>
<td>TCP</td>
</tr>
<tr>
<td>Mail Station</td>
<td>80 (HTTP), 443 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Media Server</td>
<td>1900 (UPnP), 50001 (content browsing), 50002 (content streaming)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Migration Assistant</td>
<td>7400-7499</td>
<td>DRBD</td>
</tr>
<tr>
<td>Note Station</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Photo Station, Web Station</td>
<td>80 (additional port can be added), 443 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Presto File Server</td>
<td>3360, 3361</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Proxy Server</td>
<td>3128</td>
<td>TCP</td>
</tr>
<tr>
<td>Surveillance Station</td>
<td>9900 (HTTP), 9901 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Calendar</td>
<td>38008, 38443</td>
<td>CalDAV</td>
</tr>
<tr>
<td>Synology CardDAV Server</td>
<td>8008 (HTTP), 8443 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Chat</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Contacts</td>
<td>5555</td>
<td>CardDAV</td>
</tr>
<tr>
<td>Synology Directory Server</td>
<td>88 (Kerberos), 389 (LDAP), 464 (Kerberos password change)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Synology Directory Server</td>
<td>135 (RPC Endpoint Mapper), 636 (LDAP SSL), 1024 (RPC), 3268 (LDAP GC), 3269 (LDAP GC SSL)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Drive Server</td>
<td>80 (link sharing), 443 (link sharing), 5000 (HTTP), 5001 (HTTPS), 6690 (Synology Drive Client)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Moments</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Syslog Server</td>
<td>514 (additional port can be added)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Video Station</td>
<td>1900 (UDP), 5000 (HTTP), 5001 (HTTPS), 9025-9040, 5002, 5004, 65001 (for using the HDHomeRun network tuner)</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>Virtual Machine Manager</td>
<td>2379-2382 (cluster network), 3260-3264 (iSCSI), 5000 (HTTP), 5001 (HTTPS), 5566 (replication), 16509, 16514, 30200-30300</td>
<td>TCP</td>
</tr>
<tr>
<td>VPN Server (OpenVPN)</td>
<td>1194, 1195</td>
<td>UDP</td>
</tr>
<tr>
<td>VPN Server (PPTP)</td>
<td>1723, 2001</td>
<td>TCP</td>
</tr>
<tr>
<td>VPN Server (L2TP/IPSec)</td>
<td>500, 1701, 4500</td>
<td>UDP</td>
</tr>
</tbody>
</table>
<h2 id="mobile-applications">Mobile Applications</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>DS audio</td>
<td>5000, 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS cam</td>
<td>5000, 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS cloud</td>
<td>6690</td>
<td>TCP</td>
</tr>
<tr>
<td>DS file</td>
<td>5005 (HTTP), 5006 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS finder</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS get</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS note</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS photo</td>
<td>80, 443 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>DS video</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Drive</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
<tr>
<td>Synology Moments</td>
<td>5000 (HTTP), 5001 (HTTPS)</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="printers-ups-and-peripheral-equipments">Printers, UPS, and Peripheral Equipments</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bonjour</td>
<td>5353</td>
<td>UDP</td>
</tr>
<tr>
<td>LPR</td>
<td>515</td>
<td>UDP</td>
</tr>
<tr>
<td>Network Printer (IPP)/CUPS</td>
<td>631</td>
<td>TCP</td>
</tr>
<tr>
<td>Network MFP</td>
<td>3240-3259</td>
<td>TCP</td>
</tr>
<tr>
<td>UPS</td>
<td>3493</td>
<td>TCP</td>
</tr>
</tbody>
</table>
<h2 id="system">System</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Port Number</th>
<th>Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td>LDAP</td>
<td>389, 636 (SLAPD)</td>
<td>TCP</td>
</tr>
<tr>
<td>MySQL</td>
<td>3306</td>
<td>TCP</td>
</tr>
<tr>
<td>Resource Monitor/SNMP</td>
<td>161</td>
<td>TCP/UDP</td>
</tr>
<tr>
<td>SSH/SFTP</td>
<td>22</td>
<td>TCP</td>
</tr>
<tr>
<td>Telnet</td>
<td>23</td>
<td>TCP</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è®°å½•ä¸€æ¬¡Docker-Composeéƒ¨ç½²Typecho]]></title>
        <id>https://blog.yaoling.cc/post/c-noeHZM9F/</id>
        <link href="https://blog.yaoling.cc/post/c-noeHZM9F/">
        </link>
        <updated>2025-03-29T11:29:19.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>äº‹æƒ…èµ·æºäºåœ¨Bç«™å‘å¸ƒæŠ€æœ¯ä¸“æ ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå°±æƒ³ç€èƒ½è‡ªå·±æ­å»ºä¸€ä¸ªåšå®¢ï¼Œæ–¹ä¾¿è®°å½•ä¸€äº›è‡ªå·±çš„æ–‡ç« ã€‚<br>
åœ¨æ˜ç¡®äº†ç›®æ ‡ä¹‹åï¼Œå°±åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–¹æ¡ˆï¼Œæœ€åç¡®å®šä½¿ç”¨Typechoçš„æ–¹æ¡ˆæ­å»ºè‡ªå·±çš„åšå®¢ï¼ŒGitHubPageä½œä¸ºå¤‡ä»½çš„ç½‘ç«™ã€‚<br>
è¿™ä¹ˆé€‰æ‹©ä¸»è¦æ˜¯å› ä¸ºæˆ‘å–œæ¬¢ä½¿ç”¨obsdianåšç¬”è®°ï¼Œè€ŒTypechoå’ŒGitHubPageéƒ½å¯ä»¥ç›´æ¥ç”¨MDè¯­æ³•å†™åšå®¢ï¼Œè½¬æ¢æˆæœ¬ä¸é«˜ã€‚å¹¶ä¸”Typechoçš„ç³»ç»Ÿå ç”¨ä¹Ÿä¸é«˜ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°æ•°æ®åº“SQLiteï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹è‡ªå·±åšå®¢çš„å®šä¹‰ï¼šè½»é‡ã€‚åŸºäºJavaçš„Haloæœ¬èº«å¯¹èµ„æºæ¶ˆè€—å¤ªå¤§ï¼Œæ¯•ç«ŸJavaå¼€å‘çš„ï¼Œè¿˜è¦åŠ ä¸Šä¸€ä¸ªmysqlæ•°æ®åº“ï¼Œåˆšè¿è¡Œå°±éœ€è¦800Mçš„å†…å­˜ã€‚åŸºäºPHPçš„WordPassåˆå¤ªè‡ƒè‚¿äº†ï¼Œè€Œä¸”ä¸èƒ½ä½¿ç”¨SQLiteè¿™ç§æœ¬åœ°æ•°æ®åº“ã€‚æœ€åé€‰æ‹©ä¸‹æ¥å‘ç°äº†Typechoè¿™ä¸ªåšå®¢è½¯ä»¶ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>äº‹æƒ…èµ·æºäºåœ¨Bç«™å‘å¸ƒæŠ€æœ¯ä¸“æ ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå°±æƒ³ç€èƒ½è‡ªå·±æ­å»ºä¸€ä¸ªåšå®¢ï¼Œæ–¹ä¾¿è®°å½•ä¸€äº›è‡ªå·±çš„æ–‡ç« ã€‚<br>
åœ¨æ˜ç¡®äº†ç›®æ ‡ä¹‹åï¼Œå°±åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–¹æ¡ˆï¼Œæœ€åç¡®å®šä½¿ç”¨Typechoçš„æ–¹æ¡ˆæ­å»ºè‡ªå·±çš„åšå®¢ï¼ŒGitHubPageä½œä¸ºå¤‡ä»½çš„ç½‘ç«™ã€‚<br>
è¿™ä¹ˆé€‰æ‹©ä¸»è¦æ˜¯å› ä¸ºæˆ‘å–œæ¬¢ä½¿ç”¨obsdianåšç¬”è®°ï¼Œè€ŒTypechoå’ŒGitHubPageéƒ½å¯ä»¥ç›´æ¥ç”¨MDè¯­æ³•å†™åšå®¢ï¼Œè½¬æ¢æˆæœ¬ä¸é«˜ã€‚å¹¶ä¸”Typechoçš„ç³»ç»Ÿå ç”¨ä¹Ÿä¸é«˜ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°æ•°æ®åº“SQLiteï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹è‡ªå·±åšå®¢çš„å®šä¹‰ï¼šè½»é‡ã€‚åŸºäºJavaçš„Haloæœ¬èº«å¯¹èµ„æºæ¶ˆè€—å¤ªå¤§ï¼Œæ¯•ç«ŸJavaå¼€å‘çš„ï¼Œè¿˜è¦åŠ ä¸Šä¸€ä¸ªmysqlæ•°æ®åº“ï¼Œåˆšè¿è¡Œå°±éœ€è¦800Mçš„å†…å­˜ã€‚åŸºäºPHPçš„WordPassåˆå¤ªè‡ƒè‚¿äº†ï¼Œè€Œä¸”ä¸èƒ½ä½¿ç”¨SQLiteè¿™ç§æœ¬åœ°æ•°æ®åº“ã€‚æœ€åé€‰æ‹©ä¸‹æ¥å‘ç°äº†Typechoè¿™ä¸ªåšå®¢è½¯ä»¶ã€‚</p>
<!-- more -->
<h2 id="å®‰è£…dockeråŠdocker-compose">å®‰è£…dockeråŠdocker-compose</h2>
<blockquote>
<p>è¿™ä¸ªå®‰è£…è¿‡ç¨‹è¯·å‚è€ƒdockerå®˜æ–¹æ•™ç¨‹</p>
</blockquote>
<ul>
<li>**dockerå®‰è£…æ•™ç¨‹ï¼š<a href="https://docs.docker.com/engine/install/">Install | Docker Docs</a></li>
<li>docker composeå®‰è£…æ•™ç¨‹ï¼š<a href="https://docs.docker.com/compose/">Docker Compose | Docker Docs</a></li>
</ul>
<h2 id="å®‰è£…typecho">å®‰è£…Typecho</h2>
<h3 id="åˆ›å»ºtypechoæ•°æ®ç›®å½•">åˆ›å»ºtypechoæ•°æ®ç›®å½•</h3>
<p><em><strong>ç™»å½•æœåŠ¡å™¨å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</strong></em></p>
<pre><code class="language-shell">mkdir typecho &amp;&amp; cd typecho &amp;&amp; mkdir data &amp;&amp; chmod -R 777 data
</code></pre>
<h3 id="åˆ›å»ºdocker-composeyamlæ–‡ä»¶">åˆ›å»ºdocker-compose.yamlæ–‡ä»¶</h3>
<p><em><strong>æ‰§è¡Œå‘½ä»¤<code>nano docker-compose.yaml</code> å°†ä»¥ä¸‹æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å‘½ä»¤çª—å£</strong></em></p>
<pre><code class="language-yaml">version: '3.7'

services:
  typecho:
    image: joyqi/typecho:nightly-php8.2-apache
    container_name: typecho-server
    restart: always
    environment:
      - TYPECHO_SITE_URL=https://your-domain.com   # ç½‘ç«™ç½‘å€
      - TIMEZONE=Asia/Shanghai         # æ—¶åŒº
      - TYPECHO_DB_ADAPTER=SQLite      # é€‰æ‹©SQLiteæ•°æ®
      - TYPECHO_DB_DATABASE=/app/data  # SQLiteçš„æ•°æ®ç›®å½•
      - TYPECHO_USER_NAME=admin    # ç®¡ç†å‘˜ç”¨æˆ·å
      - TYPECHO_USER_PASSWORD=admmin123456   # ç®¡ç†å‘˜å¯†ç 
      - TYPECHO_USER_MAIL=admin0@admin.com     # ç®¡ç†å‘˜é‚®ç®±
    ports:
      - 30081:80                       # typechoçš„å¯¹å¤–è®¿é—®ç›®å½•
    volumes:
      - ./typecho:/app/usr             # ä½ çš„ Typecho æ•°æ®ç›®å½•
      - ./data:/app/data               # SQLiteçš„æ•°æ®ç›®å½•
</code></pre>
<blockquote>
<p>âš ï¸æ³¨æ„âš ï¸ï¼šæŠŠä¸Šé¢å¤åˆ¶çš„å†…å®¹ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„å†…å®¹</p>
</blockquote>
<p><strong>ä¿®æ”¹å®ŒæˆåæŒ‰Ctrl+XæŒ‰é”®ï¼Œåœ¨æç¤ºæ¡†è¾“å…¥Yï¼Œä¹‹ååœ¨æ•²å›è½¦ä¿å­˜æ–‡ä»¶ã€‚</strong></p>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243648876-PixPin_2025-03-19_20-51-18.png" alt="PixPin_2025-03-19_20-51-18.png" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243655033-PixPin_2025-03-29_14-31-56.png" alt="PixPin_2025-03-29_14-31-56.png" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243662026-PixPin_2025-03-29_14-32-56.png" alt="PixPin_2025-03-29_14-32-56.png" loading="lazy"></figure>
<p><em><strong>docker-composeå¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡è¯·å‚è€ƒå¦‚ä¸‹è¡¨æ ¼</strong></em></p>
<table>
<thead>
<tr>
<th>ç¯å¢ƒå˜é‡</th>
<th>é»˜è®¤å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIMEZONE</td>
<td>UTC</td>
<td>æœåŠ¡å™¨æ—¶åŒºï¼Œä¾‹å¦‚ï¼šAsia/Shanghai</td>
</tr>
<tr>
<td>MEMORY_LIMIT</td>
<td>æ— </td>
<td>PHP å†…å­˜é™åˆ¶ï¼Œä¾‹å¦‚ï¼š100M</td>
</tr>
<tr>
<td>MAX_POST_BODY</td>
<td>æ— </td>
<td>æœ€å¤§ POST è¯·æ±‚ä½“å¤§å°ï¼Œä¾‹å¦‚ï¼š50M</td>
</tr>
<tr>
<td>TYPECHO_INSTALL</td>
<td>0</td>
<td>è®¾ç½®ä¸º 1 æ—¶è‡ªåŠ¨è¿è¡Œå®‰è£…è„šæœ¬</td>
</tr>
<tr>
<td>TYPECHO_DB_ADAPTER</td>
<td>Pdo_Mysql</td>
<td>Typecho æ•°æ®åº“é©±åŠ¨ï¼Œå¯é€‰å€¼ï¼šPdo_Mysql, Pdo_SQLite, Pdo_Pgsql, Mysqli, SQLite, Pgsql</td>
</tr>
<tr>
<td>TYPECHO_DB_HOST</td>
<td>localhost</td>
<td>æ•°æ®åº“æœåŠ¡å™¨åœ°å€ï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_PORT</td>
<td>3306ï¼ˆMySQLï¼‰æˆ– 5432ï¼ˆPostgreSQLï¼‰</td>
<td>æ•°æ®åº“æœåŠ¡å™¨ç«¯å£ï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_USER</td>
<td>æ— </td>
<td>æ•°æ®åº“ç”¨æˆ·åï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_PASSWORD</td>
<td>æ— </td>
<td>æ•°æ®åº“å¯†ç ï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_FILE</td>
<td>æ— </td>
<td>SQLite æ•°æ®åº“æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼Œä»…é€‚ç”¨äº SQLite é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_DATABASE</td>
<td>æ— </td>
<td>æ•°æ®åº“åç§°ï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_PREFIX</td>
<td>typecho_</td>
<td>æ‰€æœ‰è¡¨çš„å‰ç¼€</td>
</tr>
<tr>
<td>TYPECHO_DB_ENGINE</td>
<td>InnoDB</td>
<td>MySQL æ•°æ®åº“å¼•æ“ï¼Œä»…é€‚ç”¨äº MySQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_CHARSET</td>
<td>utf8ï¼ˆPostgreSQLï¼‰æˆ– utf8mb4ï¼ˆMySQLï¼‰</td>
<td>æ•°æ®åº“å­—ç¬¦é›†ï¼Œä»…é€‚ç”¨äº MySQL å’Œ PostgreSQL é©±åŠ¨</td>
</tr>
<tr>
<td>TYPECHO_DB_NEXT</td>
<td>none</td>
<td>å½“æ•°æ®åº“ä¸­å·²æœ‰åº”ç”¨è¡¨æ—¶æ‰§è¡Œçš„æ“ä½œï¼š<br>noneï¼šä»€ä¹ˆéƒ½ä¸åšï¼Œç›´æ¥é€€å‡º<br>keepï¼šä¿ç•™è¿™äº›è¡¨ï¼Œè·³è¿‡åˆå§‹åŒ–æ­¥éª¤<br>forceï¼šåˆ é™¤è¿™äº›è¡¨ï¼Œé‡æ–°åˆå§‹åŒ–æ•°æ®</td>
</tr>
<tr>
<td>TYPECHO_SITE_URL</td>
<td>æ— </td>
<td>ç½‘ç«™ URLï¼Œä¾‹å¦‚ï¼šhttps://your-domain.com</td>
</tr>
<tr>
<td>TYPECHO_USER_NAME</td>
<td>typecho</td>
<td>åˆ›å»ºçš„ç®¡ç†å‘˜ç”¨æˆ·å</td>
</tr>
<tr>
<td>TYPECHO_USER_PASSWORD</td>
<td>éšæœº 8 ä½å­—ç¬¦ä¸²</td>
<td>åˆ›å»ºçš„ç®¡ç†å‘˜å¯†ç </td>
</tr>
<tr>
<td>TYPECHO_USER_MAIL</td>
<td>admin@localhost.local</td>
<td>åˆ›å»ºçš„ç®¡ç†å‘˜é‚®ç®±åœ°å€</td>
</tr>
</tbody>
</table>
<h3 id="éƒ¨ç½²">éƒ¨ç½²</h3>
<p><strong>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</strong></p>
<pre><code class="language-shell">docker compose up -d
</code></pre>
<p><em>å¦‚æœä½¿ç”¨çš„æ˜¯æ™®é€šç”¨æˆ·è¯·è®°å¾—åœ¨å‰é¢åŠ ä¸Šsudoï¼š</em></p>
<pre><code class="language-shell">sudo docker compose up -d
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243707829-PixPin_2025-03-29_14-42-15.png" alt="PixPin_2025-03-29_14-42-15.png" loading="lazy"></figure>
<p><em>å¦‚æœè¦åœæ­¢åº”ç”¨çš„è¿è¡Œï¼Œå…ˆåœ¨å‘½ä»¤è¡Œcdåˆ°å®‰è£…ç›®å½•ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</em></p>
<pre><code class="language-shell">docker compose down
</code></pre>
<h2 id="é…ç½®typecho">é…ç½®Typecho</h2>
<h3 id="å¼€æ”¾è®¿é—®">å¼€æ”¾è®¿é—®</h3>
<blockquote>
<p>æœ‰ä¸¤ç§æ–¹å¼å¼€æ”¾è®¿é—®ï¼Œä¸€ç§æ˜¯é€šè¿‡ç«¯å£è®¿é—®ï¼Œä¸€ç§æ˜¯é€šè¿‡æœåŠ¡å™¨çš„åå‘ä»£ç†<br>
æ³¨æ„åå‘ä»£ç†çš„æ–¹å¼è®¾éœ€è¦ä½¿ç”¨ä½ è®¾ç½®çš„ç½‘ç«™ç½‘å€è®¿é—®</p>
</blockquote>
<h4 id="é€šè¿‡ç«¯å£è®¿é—®">é€šè¿‡ç«¯å£è®¿é—®</h4>
<ul>
<li>å¦‚æœå®‰è£…äº†å®å¡”ç­‰ç®¡ç†é¢æ¿éœ€è¦å…ˆåœ¨é¢æ¿ä¸­å¼€æ”¾ç«¯å£ï¼Œè¿™é‡Œæ‰“å¼€ <code>30081</code> ç«¯å£</li>
<li>åœ¨æœåŠ¡å™¨æä¾›å•†çš„æ§åˆ¶é¢æ¿ä¸­æ‰“å¼€å¯¹åº”çš„ç«¯å£ï¼Œè¿™é‡Œæ‰“å¼€ <code>30081</code> ç«¯å£</li>
<li>å¦‚æœç³»ç»Ÿè‡ªå¸¦äº†é˜²ç«å¢™ï¼Œè¯·åœ¨ç³»ç»Ÿé˜²ç«å¢™æ”¾è¡Œè®¿é—®ç«¯å£</li>
</ul>
<figure data-type="image" tabindex="5"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243747793-PixPin_2025-03-29_15-02-43.png" alt="PixPin_2025-03-29_15-02-43.png" loading="lazy"></figure>
<h4 id="é€šè¿‡åä»£åé—®">é€šè¿‡åä»£åé—®</h4>
<h5 id="é€šè¿‡å®å¡”ç­‰é¢æ¿è®¾ç½®åä»£">ğŸ‘‰é€šè¿‡å®å¡”ç­‰é¢æ¿è®¾ç½®åä»£</h5>
<p><strong>åœ¨é¢æ¿çš„ç½‘ç«™è®¾ç½®é‡Œé¢è®¾ç½®åå‘ä»£ç†åˆ° <code>localhost:30081</code></strong></p>
<h5 id="é€šè¿‡npmè®¾ç½®åä»£">ğŸ‘‰é€šè¿‡NPMè®¾ç½®åä»£</h5>
<figure data-type="image" tabindex="6"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243761059-PixPin_2025-03-29_15-06-57.png" alt="PixPin_2025-03-29_15-06-57.png" loading="lazy"></figure>
<p><strong>ğŸ”ºç‚¹å‡»ä¸»ç•Œé¢çš„â€œä»£ç†æœåŠ¡â€ã€‚</strong></p>
<figure data-type="image" tabindex="7"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243772929-PixPin_2025-03-29_15-07-36.png" alt="PixPin_2025-03-29_15-07-36.png" loading="lazy"></figure>
<p><strong>ğŸ”ºæ·»åŠ ä»£ç†æœåŠ¡ã€‚</strong></p>
<figure data-type="image" tabindex="8"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243782387-PixPin_2025-03-29_15-09-39.png" alt="PixPin_2025-03-29_15-09-39.png" loading="lazy"></figure>
<p><strong>ğŸ”ºç„¶ååœ¨è¿™é‡Œï¼š</strong></p>
<ul>
<li>åŸŸåï¼šåŸŸåå°±æ˜¯æˆ‘ä»¬åä»£ä½¿ç”¨çš„åŸŸåï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸ªåŸŸåé¦–å…ˆåœ¨<a href="https://www.aliyun.com/minisite/goods?userCode=new5p4uz">è¿è¥å•†</a>é‚£é‡Œåšå¥½DNSè§£æï¼ˆæ¯”å–»è…¾è®¯äº‘æˆ–è€…é˜¿é‡Œäº‘ï¼Œè§£æåŒ…æ‹¬æ™®é€šè§£æä¸æ³›è§£æï¼‰ï¼Œç„¶åæŠŠåŸŸååœ¨æˆ‘ä»¬æœåŠ¡å™¨ä¸Šåšå¥½DNSè§£æã€‚</li>
<li>åè®®ï¼šé»˜è®¤ <code>http</code> å³å¯ã€‚</li>
<li>è½¬å‘ä¸»æœº/IPï¼šè¿™ä¸ªç›´æ¥å¡«å…¥æœ¬åœ°åœ°å€å³å¯ã€‚</li>
<li>è½¬å‘ç«¯å£ï¼šæœåŠ¡ç«¯çš„å†…ç½‘ç«¯å£ï¼Œå¯ä»¥æ˜¯æŸä¸ªDockerå®¹å™¨çš„ç«¯å£ï¼Œçœ‹ä½ è‡ªå·±çš„éœ€æ±‚äº†ã€‚</li>
</ul>
<h5 id="é€šè¿‡caddyåä»£">ğŸ‘‰é€šè¿‡Caddyåä»£</h5>
<p><strong>1âƒ£ç¼–è¾‘caddyé…ç½®æ–‡ä»¶</strong></p>
<p><em>â¡ï¸æ‰§è¡Œå‘½ä»¤<code>nano /etc/caddy/Caddyfile</code></em></p>
<p><em>â¡ï¸æ·»åŠ åä»£å†…å®¹</em></p>
<pre><code class="language-shell">your-domain.com  {
    reverse_proxy localhost:30081
}
</code></pre>
<blockquote>
<p>âš æ³¨æ„ï¼šyour-domain.comæ˜¯ä½ çš„ç½‘ç«™åœ°å€</p>
</blockquote>
<figure data-type="image" tabindex="9"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243795199-PixPin_2025-03-29_15-27-06.png" alt="PixPin_2025-03-29_15-27-06.png" loading="lazy"></figure>
<p><strong>2âƒ£ä¿å­˜å¹¶å¯ç”¨åä»£</strong></p>
<ol>
<li>æŒ‰ <code>Ctrl+X</code> â¡ï¸ é€‰æ‹©<code>Y</code> â¡ï¸ å›è½¦ä¿å­˜</li>
<li>æ‰§è¡Œ <code>systemctl reload caddy</code> é‡æ–°åŠ è½½é…ç½®ï¼Œä½¿åä»£ç”Ÿæ•ˆã€‚å‚è€ƒï¼š<a href="https://caddy2.dengxiaolong.com/docs/running">ä¿æŒCaddyè¿è¡Œ â€” Caddy v2ä¸­æ–‡æ–‡æ¡£</a></li>
</ol>
<h3 id="é…ç½®ç½‘ç«™">é…ç½®ç½‘ç«™</h3>
<figure data-type="image" tabindex="10"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243830596-PixPin_2025-03-29_16-23-21.png" alt="PixPin_2025-03-29_16-23-21.png" loading="lazy"></figure>
<figure data-type="image" tabindex="11"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243835894-PixPin_2025-03-29_16-25-18.png" alt="PixPin_2025-03-29_16-25-18.png" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243841384-PixPin_2025-03-29_16-26-46.png" alt="PixPin_2025-03-29_16-26-46.png" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://r2-oss.yaoling.cc/image/2025/03/29/piclist-1743243852103-PixPin_2025-03-29_16-15-06.png" alt="PixPin_2025-03-29_16-15-06.png" loading="lazy"></figure>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>è‡³æ­¤typechoå®‰è£…å°±å®Œæ¯•äº†ï¼Œä½¿ç”¨çš„è¿‡ç¨‹æˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œå¤§å®¶å¯ä»¥åœ¨ç½‘ä¸Šå»æ‰¾è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥ç”¨é»˜è®¤çš„ã€‚<br>
å®‰è£…çš„è¿‡ç¨‹ä¸­è¦æ³¨æ„ï¼Œä½¿ç”¨sqliteæ•°æ®çš„æ—¶å€™ï¼Œå­˜æ”¾æ•°æ®æ–‡ä»¶çš„æ–‡ä»¶å¤¹éœ€è¦æœ‰<code>777</code>æƒé™ï¼Œæˆ‘è¿™é‡Œåœ¨åˆ›å»ºç›®å½•çš„æ—¶å€™å°±ç»™äºˆäº†æƒé™ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pandoc+Enhancing Exportæ’ä»¶å®ç°Obsidianæ–‡ä»¶å¯¼å‡ºä¸ºå…¶ä»–æ–‡ä»¶]]></title>
        <id>https://blog.yaoling.cc/post/iTvO3mLgl2/</id>
        <link href="https://blog.yaoling.cc/post/iTvO3mLgl2/">
        </link>
        <updated>2025-03-29T11:27:32.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„åŸå› ä¸»è¦æ˜¯å› ä¸ºæƒ³æŠŠobsidianä¸­çš„ç¬”è®°åˆ†äº«åˆ°Bç«™ä¸“æ ï¼Œä½†æ˜¯ç›´æ¥å¤åˆ¶ä¸Šå»Bç«™åˆä¸èƒ½ä¿è¯è¿™ä¸ªæ ¼å¼ï¼Œæœ€åæ‰¾åˆ°è¿™ä¸ªæ’ä»¶å¯¼å‡ºä¸ºwordæ ¼å¼ï¼Œç„¶åå†å¤åˆ¶åˆ°Bç«™ä¸“æ å‡å°‘ç¼–è¾‘è¿‡ç¨‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„åŸå› ä¸»è¦æ˜¯å› ä¸ºæƒ³æŠŠobsidianä¸­çš„ç¬”è®°åˆ†äº«åˆ°Bç«™ä¸“æ ï¼Œä½†æ˜¯ç›´æ¥å¤åˆ¶ä¸Šå»Bç«™åˆä¸èƒ½ä¿è¯è¿™ä¸ªæ ¼å¼ï¼Œæœ€åæ‰¾åˆ°è¿™ä¸ªæ’ä»¶å¯¼å‡ºä¸ºwordæ ¼å¼ï¼Œç„¶åå†å¤åˆ¶åˆ°Bç«™ä¸“æ å‡å°‘ç¼–è¾‘è¿‡ç¨‹ã€‚</p>
<!-- more -->
<h2 id="æ’ä»¶ä»‹ç»">æ’ä»¶ä»‹ç»</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Pandoc çš„ Obsidian åŠ å¼ºç‰ˆå¯¼å‡ºæ’ä»¶ã€‚æä¾›äº†åŸºæœ¬çš„å¯¼å‡ºæ ¼å¼ï¼šMarkdown ã€Markdownï¼ˆHugo https://gohugo.io/ ï¼‰ã€Htmlã€docxã€Latexç­‰ã€‚ å…¶ä¸­ Markdown ã€Markdownï¼ˆHugoï¼‰ã€Html ä¼šæŠŠåª’ä½“èµ„æºä¸€å¹¶å¯¼å‡ºã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š ç›®å‰è‡ªç”¨çš„å°±æ˜¯ Markdown ã€Markdownï¼ˆHugoï¼‰ã€Htmlï¼Œåœ¨ Mac OSã€Windowsã€Linux å¯æ­£å¸¸ä½¿ç”¨ï¼Œå…¶ä»–æœªç»ä¸¥æ ¼æµ‹è¯•ã€‚</p>
</blockquote>
<h2 id="æ’ä»¶ç•Œé¢">æ’ä»¶ç•Œé¢</h2>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324204233_PixPin_2025-03-24_20-41-44.webp" alt="PixPin_2025-03-24_20-41-44.webp" loading="lazy"></figure>
<h2 id="pandocå®‰è£…">Pandocå®‰è£…</h2>
<h3 id="è®¿é—®å®˜ç½‘">è®¿é—®å®˜ç½‘</h3>
<p><a href="https://pandoc.org/installing.html">Pandoc - Installing pandoc</a></p>
<h3 id="ç‚¹å‡»ä¸‹è½½é“¾æ¥">ç‚¹å‡»ä¸‹è½½é“¾æ¥</h3>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324204939_PixPin_2025-03-24_20-49-31.webp" alt="PixPin_2025-03-24_20-49-31.webp" loading="lazy"></figure>
<h3 id="é€‰æ‹©å¯¹åº”çš„ä¸‹è½½ç‰ˆæœ¬">é€‰æ‹©å¯¹åº”çš„ä¸‹è½½ç‰ˆæœ¬</h3>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324205119_PixPin_2025-03-24_20-51-01.webp" alt="PixPin_2025-03-24_20-51-01.webp" loading="lazy"></figure>
<blockquote>
<p>æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯windowsçš„zipåŒ… <a href="https://github.com/jgm/pandoc/releases/download/3.6.4/pandoc-3.6.4-windows-x86_64.zip">pandoc-3.6.4-windows-x86_64.zip</a>ï¼Œæ²¡æœ‰ä¸‹è½½å®‰è£…ç‰ˆ</p>
</blockquote>
<h3 id="å®‰è£…è½¯ä»¶">å®‰è£…è½¯ä»¶</h3>
<p><strong>è§£å‹ä¸‹è½½å¥½çš„ <a href="https://github.com/jgm/pandoc/releases/download/3.6.4/pandoc-3.6.4-windows-x86_64.zip">pandoc-3.6.4-windows-x86_64.zip</a></strong><br>
<strong>æˆ‘è¿™é‡Œæ˜¯è§£å‹åˆ° <code>C:\Program Files\Pandoc</code> è¿™ä¸ªè·¯å¾„</strong><br>
<strong>è®°å½•å¥½è¿™ä¸ªè·¯å¾„</strong></p>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324205866_PixPin_2025-03-24_20-58-52.webp" alt="PixPin_2025-03-24_20-58-52.webp" loading="lazy"></figure>
<h3 id="é…ç½®ç¯å¢ƒå˜é‡å¯é€‰">é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</h3>
<p><strong>å¦‚æœæ˜¯win10åŠä»¥ä¸Šçš„ç³»ç»Ÿç‰ˆæœ¬å¯ä»¥ç›´æ¥æœç´¢ <code>ç¯å¢ƒå˜é‡</code> ç„¶åç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡</strong></p>
<figure data-type="image" tabindex="5"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324210538_PixPin_2025-03-24_21-05-31.webp" alt="PixPin_2025-03-24_21-05-31.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324210735_PixPin_2025-03-24_21-07-12.webp" alt="PixPin_2025-03-24_21-07-12.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="7"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324210735_PixPin_2025-03-24_21-07-46.webp" alt="PixPin_2025-03-24_21-07-46.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="8"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324210887_PixPin_2025-03-24_21-08-28.webp" alt="PixPin_2025-03-24_21-08-28.webp" loading="lazy"></figure>
<blockquote>
<p>æ³¨æ„ï¼šé…ç½®å®Œæˆåæœ€å¥½é‡å¯ä¸€æ¬¡ç³»ç»Ÿè®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p>
</blockquote>
<h2 id="æ’ä»¶å®‰è£…">æ’ä»¶å®‰è£…</h2>
<h4 id="ç‚¹å‡»obsidiançš„è®¾ç½®ç„¶åæµè§ˆæœç´¢æ’ä»¶">ç‚¹å‡»Obsidiançš„è®¾ç½®ï¼Œç„¶åæµè§ˆæœç´¢æ’ä»¶</h4>
<blockquote>
<p>æ³¨æ„ï¼šè®¿é—®ç¤¾åŒºæ’ä»¶å¸‚åœºéœ€è¦é­”æ³•å“Ÿ</p>
</blockquote>
<figure data-type="image" tabindex="9"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324211069_PixPin_2025-03-24_21-10-53.webp" alt="PixPin_2025-03-24_21-10-53.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="10"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324211387_PixPin_2025-03-24_21-12-43.webp" alt="PixPin_2025-03-24_21-12-43.webp" loading="lazy"></figure>
<h4 id="å®‰è£…å¹¶å¯ç”¨å¹¶é…ç½®æ’ä»¶">å®‰è£…å¹¶å¯ç”¨å¹¶é…ç½®æ’ä»¶</h4>
<figure data-type="image" tabindex="11"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324211931_PixPin_2025-03-24_21-17-51.webp" alt="PixPin_2025-03-24_21-17-51.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324211951_PixPin_2025-03-24_21-18-20.webp" alt="PixPin_2025-03-24_21-18-20.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324212282_PixPin_2025-03-24_21-22-19.webp" alt="PixPin_2025-03-24_21-22-19.webp" loading="lazy"></figure>
<p>**ä¸»è¦æ˜¯é…ç½®Pandocçš„è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„å°±æ˜¯ä¹‹å‰å®‰è£…Pandocçš„è·¯å¾„ <code>C:\Program Files\Pandoc</code> åŠ ä¸Š  <code>pandoc.exe</code> ï¼Œé…ç½®å®Œæˆåçš„å®Œæ•´è·¯å¾„æ˜¯ <code>C:\Program Files\Pandoc\pandoc.exe</code>ï¼Œå¦‚æœä¹‹å‰é…ç½®äº†ç¯å¢ƒå˜é‡è¿™é‡Œå°±ä¸ç”¨é…ç½®äº†ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«ã€‚</p>
<h2 id="æ’ä»¶ä½¿ç”¨">æ’ä»¶ä½¿ç”¨</h2>
<figure data-type="image" tabindex="14"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324212969_PixPin_2025-03-24_21-28-52.webp" alt="PixPin_2025-03-24_21-28-52.webp" loading="lazy"></figure>
<figure data-type="image" tabindex="15"><img src="https://r2-oss.yaoling.cc/image/2025/03/24/20250324212980_PixPin_2025-03-24_21-29-57.webp" alt="PixPin_2025-03-24_21-29-57.webp" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MinIO+Minio uploaderæ’ä»¶å®ç°obsidianæ–‡ä»¶åºŠï¼ŒåŠ å¿«å¤šè®¾å¤‡åŒæ­¥é€Ÿåº¦]]></title>
        <id>https://blog.yaoling.cc/post/skpfp9LRCW/</id>
        <link href="https://blog.yaoling.cc/post/skpfp9LRCW/">
        </link>
        <updated>2025-03-24T13:59:33.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>ä»¥å‰æˆ‘æ˜¯ä½¿ç”¨alist+piclistå®ç°obsidiançš„å›¾åºŠåŠŸèƒ½ï¼Œä½†æ˜¯è¿™æ ·æ— æ³•å®ç°è‡ªåŠ¨çš„è§†é¢‘å’ŒéŸ³é¢‘ç­‰æ–‡ä»¶çš„è‡ªåŠ¨ä¸Šä¼ ï¼Œæœ€ååœ¨æ’ä»¶å¸‚åœºå‘ç°äº†Minio uploaderè¿™æ¬¾æ’ä»¶ï¼Œå®ƒèƒ½å®ç°å¯¹å‡ ä¹obsidianæ”¯æŒçš„é™„ä»¶çš„äº‘ç«¯åŒ–ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>ä»¥å‰æˆ‘æ˜¯ä½¿ç”¨alist+piclistå®ç°obsidiançš„å›¾åºŠåŠŸèƒ½ï¼Œä½†æ˜¯è¿™æ ·æ— æ³•å®ç°è‡ªåŠ¨çš„è§†é¢‘å’ŒéŸ³é¢‘ç­‰æ–‡ä»¶çš„è‡ªåŠ¨ä¸Šä¼ ï¼Œæœ€ååœ¨æ’ä»¶å¸‚åœºå‘ç°äº†Minio uploaderè¿™æ¬¾æ’ä»¶ï¼Œå®ƒèƒ½å®ç°å¯¹å‡ ä¹obsidianæ”¯æŒçš„é™„ä»¶çš„äº‘ç«¯åŒ–ã€‚</p>
<!-- more -->
<h2 id="æ’ä»¶ä»‹ç»">æ’ä»¶ä»‹ç»</h2>
<p>å°†å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ã€PDFç­‰æ–‡ä»¶ä¸Šä¼ åˆ° Minio OSS ä¸­ï¼Œè€Œä¸æ˜¯å¤åˆ¶åˆ°æœ¬åœ°ã€‚å‡å°‘æœ¬åœ°ç£ç›˜å ç”¨å¤§å°ï¼Œæé«˜å¤šè®¾å¤‡ä¹‹é—´åŒæ­¥çš„æ•ˆç‡ã€‚</p>
<h2 id="å®‰è£…minio">å®‰è£…MinIO</h2>
<p><a href="https://blog.yaoling.cc/post/B0dX9BTo6j/">è‡ªå»ºOSSæœåŠ¡ï¼šMinIO</a></p>
<h2 id="æ’ä»¶é…ç½®">æ’ä»¶é…ç½®</h2>
<h3 id="å‚æ•°é…ç½®">å‚æ•°é…ç½®</h3>
<blockquote>
<p>æç¤ºï¼šç«¯å£å·ä¸º Minio çš„APIæ•°æ®è®¿é—®ç«¯å£å·</p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319212128_PixPin_2025-03-19_21-21-04.png" alt="PixPin_2025-03-19_21-21-04.png" loading="lazy"></figure>
<h3 id="åœ¨-minio-æ§åˆ¶å°çš„-bucket-è®¾ç½®ä¸­å¼€å¯æ–‡ä»¶åŒ¿åè®¿é—®èƒ½åŠ›å³é€šè¿‡urlå¯ç›´æ¥è®¿é—®æ–‡ä»¶">åœ¨ Minio æ§åˆ¶å°çš„ Bucket è®¾ç½®ä¸­å¼€å¯æ–‡ä»¶åŒ¿åè®¿é—®èƒ½åŠ›ï¼Œå³é€šè¿‡URLå¯ç›´æ¥è®¿é—®æ–‡ä»¶ã€‚</h3>
<blockquote>
<p>æˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯æ•´ä¸ªbucketæ ¹ç›®å½•å¯¹å¤–æä¾›åªè¯»æœåŠ¡ï¼Œå½“ç„¶è¿˜æœ‰è¿›é˜¶çš„è®¾ç½®ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹minioçš„æ–‡æ¡£</p>
</blockquote>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319194866_image.png" alt="image.png" loading="lazy"></figure>
<h3 id="ä¿å­˜è§„åˆ™é…ç½®">ä¿å­˜è§„åˆ™é…ç½®</h3>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319212705_PixPin_2025-03-19_21-24-58.png" alt="PixPin_2025-03-19_21-24-58.png" loading="lazy"></figure>
<h3 id="é¢„è§ˆé…ç½®">é¢„è§ˆé…ç½®</h3>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319212795_PixPin_2025-03-19_21-27-05.png" alt="PixPin_2025-03-19_21-27-05.png" loading="lazy"></figure>
<h2 id="æ’ä»¶ç¼ºç‚¹">æ’ä»¶ç¼ºç‚¹</h2>
<ul>
<li>æ–‡æ¡£ï¼Œç‰¹åˆ«æ˜¯PDFçš„é¢„è§ˆåŠŸèƒ½æ²¡æœ‰ç›´æ¥ç²˜åœ¨é™„ä»¶ä¸­å¥½ç”¨ï¼Œä»‹æ„çš„æœ€å¥½ä¸ç”¨è¿™ä¸ªæ’ä»¶</li>
<li>åˆ é™¤éœ€è¦åœ¨minioçš„å¯¹è±¡æµè§ˆå™¨ä¸­åˆ é™¤</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è‡ªå»ºOSSæœåŠ¡ï¼šMinIO]]></title>
        <id>https://blog.yaoling.cc/post/B0dX9BTo6j/</id>
        <link href="https://blog.yaoling.cc/post/B0dX9BTo6j/">
        </link>
        <updated>2025-03-23T13:33:05.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="minioä»‹ç»">MinIOä»‹ç»</h2>
<p>MinIO æ˜¯ä¸€ç§å¯¹è±¡å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œå¯æä¾›ä¸ Amazon Web Services S3 å…¼å®¹çš„ APIï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ ¸å¿ƒ S3 åŠŸèƒ½ã€‚ MinIO æ—¨åœ¨éƒ¨ç½²åœ¨ä»»ä½•åœ°æ–¹ï¼Œå…¬å…±äº‘æˆ–ç§æœ‰äº‘ã€è£¸æœºåŸºç¡€è®¾æ–½ã€ç¼–æ’ç¯å¢ƒå’Œè¾¹ç¼˜åŸºç¡€è®¾æ–½ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="minioä»‹ç»">MinIOä»‹ç»</h2>
<p>MinIO æ˜¯ä¸€ç§å¯¹è±¡å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œå¯æä¾›ä¸ Amazon Web Services S3 å…¼å®¹çš„ APIï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ ¸å¿ƒ S3 åŠŸèƒ½ã€‚ MinIO æ—¨åœ¨éƒ¨ç½²åœ¨ä»»ä½•åœ°æ–¹ï¼Œå…¬å…±äº‘æˆ–ç§æœ‰äº‘ã€è£¸æœºåŸºç¡€è®¾æ–½ã€ç¼–æ’ç¯å¢ƒå’Œè¾¹ç¼˜åŸºç¡€è®¾æ–½ã€‚</p>
<!-- more -->
<h2 id="éƒ¨ç½²">éƒ¨ç½²</h2>
<h3 id="dockeréƒ¨ç½²æ¨è">Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰</h3>
<h4 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£</h4>
<p><a href="https://min.io/docs/minio/container/index.html">MinIO å®¹å™¨å¯¹è±¡å­˜å‚¨ â€” ç”¨äºå®¹å™¨çš„ MinIO å¯¹è±¡å­˜å‚¨</a></p>
<h4 id="éƒ¨ç½²è¿‡ç¨‹">éƒ¨ç½²è¿‡ç¨‹</h4>
<h5 id="å®‰è£…docker">å®‰è£…docker</h5>
<blockquote>
<p>ç³»ç»Ÿå®‰è£…dockerå’Œdocker composeçš„æ–¹æ³•è¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ï¼Œç½‘ä¸Šä¸€æœä¸€å¤§å †</p>
</blockquote>
<h5 id="éƒ¨ç½²è¿‡ç¨‹-2">éƒ¨ç½²è¿‡ç¨‹</h5>
<h6 id="åˆ›å»ºminioåº”ç”¨æ•°æ®ç›®å½•">åˆ›å»ºminioåº”ç”¨æ•°æ®ç›®å½•</h6>
<blockquote>
<p>è¿™ä¸ªç›®å½•ä¸»è¦æ˜¯ç”¨æ¥å‚¨å­˜minioè‡ªå·±çš„æ•°æ®çš„</p>
</blockquote>
<pre><code class="language-shell">
mkdir -p /appdata/minio/data

  

</code></pre>
<h6 id="åˆ›å»ºå‚¨å­˜æ•°æ®ç›®å½•">åˆ›å»ºå‚¨å­˜æ•°æ®ç›®å½•</h6>
<blockquote>
<p>è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å‚¨å­˜ç”¨æˆ·ä¸Šä¼ çš„æ•°æ®çš„</p>
</blockquote>
<pre><code class="language-shell">
mkdir -p /appdata/minio/userdata

</code></pre>
<h6 id="åˆ›å»ºåº”ç”¨">åˆ›å»ºåº”ç”¨</h6>
<pre><code class="language-shell">
cd /appdata/minio

  

docker run \

-p 9000:9000 \

-p 9001:9001 \

--name minio \

-v ./data:/root/.minio \

-v ./userdata:/userdata \

-e &quot;MINIO_ROOT_USER=ROOTNAME&quot; \

-e &quot;MINIO_ROOT_PASSWORD=CHANGEME123&quot; \

quay.io/minio/minio server /userdata --console-address &quot;:9000&quot; -address &quot;:9001&quot;

</code></pre>
<h6 id="å‘½ä»¤è§£é‡Š">å‘½ä»¤è§£é‡Š</h6>
<ul>
<li>
<p><code>-p 9000:9000</code> å·¦è¾¹çš„<code>9000</code>æ˜¯webæ§åˆ¶å°çš„å¤–éƒ¨è®¿é—®ç«¯å£ï¼Œå³è¾¹çš„<code>9000</code>å¿…é¡»å’Œ <code>--console-address &quot;:9000&quot;</code> ä¸­çš„<code>9000</code>å¯¹åº”</p>
</li>
<li>
<p><code>-p 9001:9001</code> å·¦è¾¹çš„<code>9001</code>æ˜¯ossçš„å¯¹å¤–æœåŠ¡åœ°å€ï¼Œå³è¾¹çš„<code>9001</code>å¿…é¡»å’Œ<code>-address &quot;:9001&quot;</code> ä¸­çš„<code>9001</code>å¯¹åº”</p>
</li>
<li>
<p><code>--name minio</code> åº”ç”¨åç§°</p>
</li>
<li>
<p><code>-v ./data:/root/.minio</code> æ˜ å°„åº”ç”¨æ•°æ®ç›®å½•</p>
</li>
<li>
<p><code>-v ./userdata:/userdata</code> æ˜ å°„ossä¸Šä¼ çš„æ•°æ®ç›®å½•ï¼Œå³è¾¹å¿…é¡»å’Œ<code>quay.io/minio/minio server /userdata</code>è¿™é‡Œçš„<code>/userdata</code>å¯¹åº”ï¼Œå·¦è¾¹å°±æ˜¯åˆšæ‰åˆ›å»ºçš„ç›®å½•</p>
</li>
<li>
<p><code>-e &quot;MINIO_ROOT_USER=ROOTNAME&quot;</code> ç®¡ç†å‘˜è´¦å·</p>
</li>
<li>
<p><code>-e &quot;MINIO_ROOT_PASSWORD=CHANGEME123&quot;</code> ç®¡ç†å‘˜å¯†ç </p>
</li>
<li>
<p><code>quay.io/minio/minio server /userdata --console-address &quot;:9000&quot; -address &quot;:9001&quot;</code> è¿™ä¸€æ®µæ˜¯æ‹‰èµ·æœåŠ¡çš„</p>
</li>
</ul>
<h3 id="unraidåº”ç”¨å¸‚åœºéƒ¨ç½²">UNRAIDåº”ç”¨å¸‚åœºéƒ¨ç½²</h3>
<blockquote>
<p>ä»…é™äºä½¿ç”¨UNRAID NASç³»ç»Ÿçš„åŒå¿—</p>
</blockquote>
<blockquote>
<p>éUNRAIDç³»ç»Ÿçš„å…¶ä»–NASç³»ç»Ÿä¸€èˆ¬éƒ½è‡ªå¸¦Dockerï¼Œå»ºè®®ä½¿ç”¨dockeréƒ¨ç½²</p>
</blockquote>
<h5 id="é¦–å…ˆåœ¨åº”ç”¨å¸‚åœºæœç´¢åº”ç”¨">é¦–å…ˆåœ¨åº”ç”¨å¸‚åœºæœç´¢åº”ç”¨</h5>
<figure data-type="image" tabindex="1"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319195344_PixPin_2025-03-19_16-45-27.png" alt="PixPin_2025-03-19_16-45-27.png" loading="lazy"></figure>
<h5 id="æ ¹æ®é…ç½®æ¨¡ç‰ˆé…ç½®åº”ç”¨">æ ¹æ®é…ç½®æ¨¡ç‰ˆé…ç½®åº”ç”¨</h5>
<blockquote>
<p>æŒ‰ç…§ä¸‹å›¾ä¸­çš„å¤‡æ³¨é…ç½®</p>
</blockquote>
<blockquote>
<p>ä½†æ˜¯è¦æ³¨æ„å‡ ä¸ªç«¯å£å·è¦é…ç½®æ­£ç¡®ï¼Œå…·ä½“å‚ç…§ä¸Šæ–¹çš„dockeréƒ¨ç½²æ–¹æ³•ï¼Œå‚æ•°æ˜¯ç›¸åŒçš„</p>
</blockquote>
<figure data-type="image" tabindex="2"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319200026_PixPin_2025-03-19_19-59-56.png" alt="PixPin_2025-03-19_19-59-56.png" loading="lazy"></figure>
<h2 id="ä½¿ç”¨">ä½¿ç”¨</h2>
<h3 id="ç™»å½•">ç™»å½•</h3>
<blockquote>
<p>è®¿é—® <code>http://ä½ çš„IPåœ°å€:9000/login</code></p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319204383_PixPin_2025-03-19_20-42-55.png" alt="PixPin_2025-03-19_20-42-55.png" loading="lazy"></figure>
<h3 id="åˆ›å»ºç”¨æˆ·">åˆ›å»ºç”¨æˆ·</h3>
<figure data-type="image" tabindex="4"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319204690_PixPin_2025-03-19_20-45-46.png" alt="PixPin_2025-03-19_20-45-46.png" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319204877_PixPin_2025-03-19_20-48-15.png" alt="PixPin_2025-03-19_20-48-15.png" loading="lazy"></figure>
<h3 id="åˆ›å»ºç”¨æˆ·ç»„">åˆ›å»ºç”¨æˆ·ç»„</h3>
<figure data-type="image" tabindex="6"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319204992_PixPin_2025-03-19_20-49-27.png" alt="PixPin_2025-03-19_20-49-27.png" loading="lazy"></figure>
<figure data-type="image" tabindex="7"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319205187_PixPin_2025-03-19_20-51-18.png" alt="PixPin_2025-03-19_20-51-18.png" loading="lazy"></figure>
<h3 id="åˆ›å»ºbuckets">åˆ›å»ºBuckets</h3>
<figure data-type="image" tabindex="8"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319205377_PixPin_2025-03-19_20-53-45.png" alt="PixPin_2025-03-19_20-53-45.png" loading="lazy"></figure>
<figure data-type="image" tabindex="9"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319205688_PixPin_2025-03-19_20-55-46.png" alt="PixPin_2025-03-19_20-55-46.png" loading="lazy"></figure>
<blockquote>
<p>ä¸ºäº†æ–¹ä¾¿å¤–éƒ¨è®¿é—®æœ€å¥½æ‰“å¼€Bucketsçš„åŒ¿åè®¿é—®</p>
</blockquote>
<figure data-type="image" tabindex="10"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319211081_PixPin_2025-03-19_21-10-34.png" alt="PixPin_2025-03-19_21-10-34.png" loading="lazy"></figure>
<h3 id="åˆ›å»ºaccesskeyå’Œsecretkey">åˆ›å»ºAccessKeyå’ŒSecretKey</h3>
<blockquote>
<p>è‡ªå»ºå¯¹è±¡å‚¨å­˜è‚¯å®šæ˜¯éœ€è¦ç”¨å…¶ä»–æ–¹å¼è°ƒç”¨å¯¹è±¡å‚¨å­˜çš„ï¼Œè°ƒç”¨å°±éœ€è¦è¿™ä¸¤ä¸ªå€¼</p>
</blockquote>
<blockquote>
<p>ç”±äºæˆ‘ä»¬åˆ›å»ºäº†ç”¨æˆ·ï¼Œä¸ºæ–¹ä¾¿æƒé™ç®¡ç†ï¼Œæˆ‘ä»¬å°±åœ¨ç”¨æˆ·ä¸‹é¢åˆ›å»º</p>
</blockquote>
<p>ç¬¬äºŒæ­¥åé€‰æ‹©è‡ªå·±åˆ›å»ºçš„ç”¨æˆ·ï¼Œç„¶åå°±ä¼šå‡ºç°ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥</p>
<figure data-type="image" tabindex="11"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319210130_PixPin_2025-03-19_21-01-34.png" alt="PixPin_2025-03-19_21-01-34.png" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319210582_PixPin_2025-03-19_21-04-23.png" alt="PixPin_2025-03-19_21-04-23.png" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319210744_PixPin_2025-03-19_21-07-01.png" alt="PixPin_2025-03-19_21-07-01.png" loading="lazy"></figure>
<p>è¿™æ˜¯jsonæ–‡ä»¶çš„å†…å®¹ï¼Œé‡Œé¢åŒ…å«äº†accessKeyå’ŒsecretKey</p>
<pre><code class="language-json">
{&quot;url&quot;:&quot;http://127.0.0.1:9001&quot;,&quot;accessKey&quot;:&quot;MjXO2yYdY1S4OYzUHqHe&quot;,&quot;secretKey&quot;:&quot;umEUeG4PcYhUzjdpYfGhfGL4hZysC1U4FeEDem80&quot;,&quot;api&quot;:&quot;s3v4&quot;,&quot;path&quot;:&quot;auto&quot;}

</code></pre>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥é€šè¿‡<code>9001</code>ç«¯å£å¯¹å¤–æä¾›æœåŠ¡äº†</p>
<h3 id="å¯¹è±¡ä¸Šä¼ ä¸åˆ é™¤">å¯¹è±¡ä¸Šä¼ ä¸åˆ é™¤</h3>
<figure data-type="image" tabindex="14"><img src="https://r2-oss.yaoling.cc/image/2025/03/19/20250319213744_PixPin_2025-03-19_21-36-59.png" alt="PixPin_2025-03-19_21-36-59.png" loading="lazy"></figure>
<h3 id="å®‰å…¨çš„æä¾›æœåŠ¡">å®‰å…¨çš„æä¾›æœåŠ¡</h3>
<p>ç°åœ¨è™½ç„¶å¯ä»¥é€šè¿‡<code>9001</code>ç«¯å£è®¿é—®æœåŠ¡äº†ï¼Œä½†æ˜¯ä¸å¯èƒ½ä¸€ç›´åœ¨å†…ç½‘ä¼ è¾“ï¼Œè‚¯å®šè¦æ¶‰åŠå¤–ç½‘ä½¿ç”¨ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯luckyè¿™ä¸ªæœåŠ¡ä½¿ç”¨<code>https</code>åå‘ä»£ç†çš„minioæœåŠ¡ã€‚å¤§å®¶ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹æ³•ä»£ç†è‡ªå·±çš„æœåŠ¡ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://blog.yaoling.cc/post/hello-gridea/</id>
        <link href="https://blog.yaoling.cc/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="https://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>